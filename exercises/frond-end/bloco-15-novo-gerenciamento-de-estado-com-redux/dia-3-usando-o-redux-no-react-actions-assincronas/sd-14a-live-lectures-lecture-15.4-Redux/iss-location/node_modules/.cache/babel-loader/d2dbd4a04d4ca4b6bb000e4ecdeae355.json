{"ast":null,"code":"import React, { Component, useState } from 'react';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction debounce(func, wait) {\n  var timeout;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      return func.apply(context, args);\n    }, wait);\n  };\n}\n\nfunction parentHasClass(element, className) {\n  while (element) {\n    if (element.classList && element.classList.contains(className)) {\n      return true;\n    }\n\n    element = element.parentElement;\n  }\n\n  return false;\n}\n\nfunction parentPosition(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    x: rect.left,\n    y: rect.top\n  };\n}\n\nvar ANIMATION_TIME = 300;\nvar DIAGONAL_THROW_TIME = 1500;\nvar SCROLL_PIXELS_FOR_ZOOM_LEVEL = 150;\nvar MIN_DRAG_FOR_THROW = 40;\nvar CLICK_TOLERANCE = 2;\nvar DOUBLE_CLICK_DELAY = 300;\nvar DEBOUNCE_DELAY = 60;\nvar PINCH_RELEASE_THROW_DELAY = 300;\nvar WARNING_DISPLAY_TIMEOUT = 300;\n\nvar NOOP = function NOOP() {\n  return true;\n};\n\nfunction stamenToner(x, y, z, dpr) {\n  return \"https://stamen-tiles.a.ssl.fastly.net/toner/\" + z + \"/\" + x + \"/\" + y + (dpr >= 2 ? '@2x' : '') + \".png\";\n}\n\nvar lng2tile = function lng2tile(lon, zoom) {\n  return (lon + 180) / 360 * Math.pow(2, zoom);\n};\n\nvar lat2tile = function lat2tile(lat, zoom) {\n  return (1 - Math.log(Math.tan(lat * Math.PI / 180) + 1 / Math.cos(lat * Math.PI / 180)) / Math.PI) / 2 * Math.pow(2, zoom);\n};\n\nfunction tile2lng(x, z) {\n  return x / Math.pow(2, z) * 360 - 180;\n}\n\nfunction tile2lat(y, z) {\n  var n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\n  return 180 / Math.PI * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n}\n\nfunction getMousePixel(dom, event) {\n  var parent = parentPosition(dom);\n  return [event.clientX - parent.x, event.clientY - parent.y];\n}\n\nfunction easeOutQuad(t) {\n  return t * (2 - t);\n}\n\nvar absoluteMinMax = [tile2lat(Math.pow(2, 10), 10), tile2lat(0, 10), tile2lng(0, 10), tile2lng(Math.pow(2, 10), 10)];\nvar hasWindow = typeof window !== 'undefined';\nvar performanceNow = hasWindow && window.performance && window.performance.now ? function () {\n  return window.performance.now();\n} : function () {\n  var timeStart = new Date().getTime();\n  return function () {\n    return new Date().getTime() - timeStart;\n  };\n}();\n\nvar requestAnimationFrame = function requestAnimationFrame(callback) {\n  if (hasWindow) {\n    return (window.requestAnimationFrame || window.setTimeout)(callback);\n  } else {\n    callback(new Date().getTime());\n    return null;\n  }\n};\n\nvar cancelAnimationFrame = function cancelAnimationFrame(animFrame) {\n  return hasWindow && animFrame ? (window.cancelAnimationFrame || window.clearTimeout)(animFrame) : false;\n};\n\nfunction srcSet(dprs, url, x, y, z) {\n  if (!dprs || dprs.length === 0) {\n    return '';\n  }\n\n  return dprs.map(function (dpr) {\n    return url(x, y, z, dpr) + (dpr === 1 ? '' : \" \" + dpr + \"x\");\n  }).join(', ');\n}\n\nvar Map = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Map, _Component);\n\n  function Map(props) {\n    var _ref, _props$defaultZoom, _ref2, _props$defaultCenter, _ref3, _props$width, _ref4, _props$height;\n\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this._dragStart = null;\n    _this._mouseDown = false;\n    _this._moveEvents = [];\n    _this._lastClick = null;\n    _this._lastTap = null;\n    _this._lastWheel = null;\n    _this._touchStartPixel = null;\n    _this._touchStartMidPoint = null;\n    _this._touchStartDistance = null;\n    _this._secondTouchEnd = null;\n    _this._warningClearTimeout = null;\n    _this._isAnimating = false;\n    _this._animationStart = null;\n    _this._animationEnd = null;\n    _this._zoomStart = null;\n    _this._centerTarget = null;\n    _this._zoomTarget = null;\n    _this._zoomAround = null;\n    _this._animFrame = null;\n    _this._boundsSynced = false;\n    _this._minMaxCache = null;\n    _this._resizeObserver = null;\n\n    _this.updateWidthHeight = function () {\n      if (_this._containerRef) {\n        var rect = _this._containerRef.getBoundingClientRect();\n\n        if (rect && rect.width > 0 && rect.height > 0) {\n          _this.setState({\n            width: rect.width,\n            height: rect.height\n          });\n\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    _this.wa = function () {\n      var _window;\n\n      return (_window = window).addEventListener.apply(_window, arguments);\n    };\n\n    _this.wr = function () {\n      var _window2;\n\n      return (_window2 = window).removeEventListener.apply(_window2, arguments);\n    };\n\n    _this.bindMouseEvents = function () {\n      _this.wa('mousedown', _this.handleMouseDown);\n\n      _this.wa('mouseup', _this.handleMouseUp);\n\n      _this.wa('mousemove', _this.handleMouseMove);\n    };\n\n    _this.bindTouchEvents = function () {\n      _this.wa('touchstart', _this.handleTouchStart, {\n        passive: false\n      });\n\n      _this.wa('touchmove', _this.handleTouchMove, {\n        passive: false\n      });\n\n      _this.wa('touchend', _this.handleTouchEnd, {\n        passive: false\n      });\n    };\n\n    _this.unbindMouseEvents = function () {\n      _this.wr('mousedown', _this.handleMouseDown);\n\n      _this.wr('mouseup', _this.handleMouseUp);\n\n      _this.wr('mousemove', _this.handleMouseMove);\n    };\n\n    _this.unbindTouchEvents = function () {\n      _this.wr('touchstart', _this.handleTouchStart);\n\n      _this.wr('touchmove', _this.handleTouchMove);\n\n      _this.wr('touchend', _this.handleTouchEnd);\n    };\n\n    _this.bindResizeEvent = function () {\n      _this.wa('resize', _this.updateWidthHeight);\n    };\n\n    _this.unbindResizeEvent = function () {\n      _this.wr('resize', _this.updateWidthHeight);\n    };\n\n    _this.bindWheelEvent = function () {\n      if (_this._containerRef) {\n        _this._containerRef.addEventListener('wheel', _this.handleWheel, {\n          passive: false\n        });\n      }\n    };\n\n    _this.unbindWheelEvent = function () {\n      if (_this._containerRef) {\n        _this._containerRef.removeEventListener('wheel', _this.handleWheel);\n      }\n    };\n\n    _this.setCenterZoomTarget = function (center, zoom, fromProps, zoomAround, animationDuration) {\n      if (fromProps === void 0) {\n        fromProps = false;\n      }\n\n      if (zoomAround === void 0) {\n        zoomAround = null;\n      }\n\n      if (animationDuration === void 0) {\n        animationDuration = ANIMATION_TIME;\n      }\n\n      if (_this.props.animate && (!fromProps || _this.distanceInScreens(center, zoom, _this.state.center, _this.state.zoom) <= _this.props.animateMaxScreens)) {\n        if (_this._isAnimating) {\n          cancelAnimationFrame(_this._animFrame);\n\n          var _this$animationStep = _this.animationStep(performanceNow()),\n              centerStep = _this$animationStep.centerStep,\n              zoomStep = _this$animationStep.zoomStep;\n\n          _this._centerStart = centerStep;\n          _this._zoomStart = zoomStep;\n        } else {\n          _this._isAnimating = true;\n          _this._centerStart = _this.limitCenterAtZoom([_this._lastCenter[0], _this._lastCenter[1]], _this._lastZoom);\n          _this._zoomStart = _this._lastZoom;\n\n          _this.onAnimationStart();\n        }\n\n        _this._animationStart = performanceNow();\n        _this._animationEnd = _this._animationStart + animationDuration;\n\n        if (zoomAround) {\n          _this._zoomAround = zoomAround;\n          _this._centerTarget = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n        } else {\n          _this._zoomAround = null;\n          _this._centerTarget = center;\n        }\n\n        _this._zoomTarget = zoom;\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      } else {\n        _this.stopAnimating();\n\n        if (zoomAround) {\n          var _center = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n\n          _this.setCenterZoom(_center, zoom, fromProps);\n        } else {\n          _this.setCenterZoom(center || _this.state.center, zoom, fromProps);\n        }\n      }\n    };\n\n    _this.distanceInScreens = function (centerTarget, zoomTarget, center, zoom) {\n      var _this$state = _this.state,\n          width = _this$state.width,\n          height = _this$state.height;\n\n      var l1 = _this.latLngToPixel(center, center, zoom);\n\n      var l2 = _this.latLngToPixel(centerTarget, center, zoom);\n\n      var z1 = _this.latLngToPixel(center, center, zoomTarget);\n\n      var z2 = _this.latLngToPixel(centerTarget, center, zoomTarget);\n\n      var w = (Math.abs(l1[0] - l2[0]) + Math.abs(z1[0] - z2[0])) / 2 / width;\n      var h = (Math.abs(l1[1] - l2[1]) + Math.abs(z1[1] - z2[1])) / 2 / height;\n      return Math.sqrt(w * w + h * h);\n    };\n\n    _this.animationStep = function (timestamp) {\n      if (!_this._animationEnd || !_this._animationStart || !_this._zoomTarget || !_this._zoomStart || !_this._centerStart || !_this._centerTarget) {\n        return {\n          centerStep: _this.state.center,\n          zoomStep: _this.state.zoom\n        };\n      }\n\n      var length = _this._animationEnd - _this._animationStart;\n      var progress = Math.max(timestamp - _this._animationStart, 0);\n      var percentage = easeOutQuad(progress / length);\n      var zoomDiff = (_this._zoomTarget - _this._zoomStart) * percentage;\n      var zoomStep = _this._zoomStart + zoomDiff;\n\n      if (_this._zoomAround) {\n        var centerStep = _this.calculateZoomCenter(_this._centerStart, _this._zoomAround, _this._zoomStart, zoomStep);\n\n        return {\n          centerStep: centerStep,\n          zoomStep: zoomStep\n        };\n      } else {\n        var _centerStep = [_this._centerStart[0] + (_this._centerTarget[0] - _this._centerStart[0]) * percentage, _this._centerStart[1] + (_this._centerTarget[1] - _this._centerStart[1]) * percentage];\n        return {\n          centerStep: _centerStep,\n          zoomStep: zoomStep\n        };\n      }\n    };\n\n    _this.animate = function (timestamp) {\n      if (!_this._animationEnd || timestamp >= _this._animationEnd) {\n        _this._isAnimating = false;\n\n        _this.setCenterZoom(_this._centerTarget, _this._zoomTarget, true);\n\n        _this.onAnimationStop();\n      } else {\n        var _this$animationStep2 = _this.animationStep(timestamp),\n            centerStep = _this$animationStep2.centerStep,\n            zoomStep = _this$animationStep2.zoomStep;\n\n        _this.setCenterZoom(centerStep, zoomStep);\n\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      }\n    };\n\n    _this.stopAnimating = function () {\n      if (_this._isAnimating) {\n        _this._isAnimating = false;\n\n        _this.onAnimationStop();\n\n        cancelAnimationFrame(_this._animFrame);\n      }\n    };\n\n    _this.limitCenterAtZoom = function (center, zoom) {\n      var minMax = _this.getBoundsMinMax(zoom || _this.state.zoom);\n\n      return [Math.max(Math.min(!center || isNaN(center[0]) ? _this.state.center[0] : center[0], minMax[1]), minMax[0]), Math.max(Math.min(!center || isNaN(center[1]) ? _this.state.center[1] : center[1], minMax[3]), minMax[2])];\n    };\n\n    _this.onAnimationStart = function () {\n      _this.props.onAnimationStart && _this.props.onAnimationStart();\n    };\n\n    _this.onAnimationStop = function () {\n      _this.props.onAnimationStop && _this.props.onAnimationStop();\n    };\n\n    _this.setCenterZoom = function (center, zoom, animationEnded) {\n      if (animationEnded === void 0) {\n        animationEnded = false;\n      }\n\n      var limitedCenter = _this.limitCenterAtZoom(center, zoom);\n\n      if (zoom && Math.round(_this.state.zoom) !== Math.round(zoom)) {\n        var tileValues = _this.tileValues(_this.state);\n\n        var nextValues = _this.tileValues({\n          center: limitedCenter,\n          zoom: zoom,\n          width: _this.state.width,\n          height: _this.state.height\n        });\n\n        var oldTiles = _this.state.oldTiles;\n\n        _this.setState({\n          oldTiles: oldTiles.filter(function (o) {\n            return o.roundedZoom !== tileValues.roundedZoom;\n          }).concat(tileValues)\n        }, NOOP);\n\n        var loadTracker = {};\n\n        for (var x = nextValues.tileMinX; x <= nextValues.tileMaxX; x++) {\n          for (var y = nextValues.tileMinY; y <= nextValues.tileMaxY; y++) {\n            var key = x + \"-\" + y + \"-\" + nextValues.roundedZoom;\n            loadTracker[key] = false;\n          }\n        }\n\n        _this._loadTracker = loadTracker;\n      }\n\n      _this.setState({\n        center: limitedCenter,\n        zoom: zoom || _this.state.zoom\n      }, NOOP);\n\n      var maybeZoom = _this.props.zoom ? _this.props.zoom : _this._lastZoom;\n      var maybeCenter = _this.props.center ? _this.props.center : _this._lastCenter;\n\n      if (zoom && (animationEnded || Math.abs(maybeZoom - zoom) > 0.001 || Math.abs(maybeCenter[0] - limitedCenter[0]) > 0.00001 || Math.abs(maybeCenter[1] - limitedCenter[1]) > 0.00001)) {\n        _this._lastZoom = zoom;\n        _this._lastCenter = [].concat(limitedCenter);\n\n        _this.syncToProps(limitedCenter, zoom);\n      }\n    };\n\n    _this.getBoundsMinMax = function (zoom) {\n      if (_this.props.limitBounds === 'center') {\n        return absoluteMinMax;\n      }\n\n      var _this$state2 = _this.state,\n          width = _this$state2.width,\n          height = _this$state2.height;\n\n      if (_this._minMaxCache && _this._minMaxCache[0] === zoom && _this._minMaxCache[1] === width && _this._minMaxCache[2] === height) {\n        return _this._minMaxCache[3];\n      }\n\n      var pixelsAtZoom = Math.pow(2, zoom) * 256;\n      var minLng = width > pixelsAtZoom ? 0 : tile2lng(width / 512, zoom);\n      var minLat = height > pixelsAtZoom ? 0 : tile2lat(Math.pow(2, zoom) - height / 512, zoom);\n      var maxLng = width > pixelsAtZoom ? 0 : tile2lng(Math.pow(2, zoom) - width / 512, zoom);\n      var maxLat = height > pixelsAtZoom ? 0 : tile2lat(height / 512, zoom);\n      var minMax = [minLat, maxLat, minLng, maxLng];\n      _this._minMaxCache = [zoom, width, height, minMax];\n      return minMax;\n    };\n\n    _this.imageLoaded = function (key) {\n      if (_this._loadTracker && key in _this._loadTracker) {\n        _this._loadTracker[key] = true;\n        var unloadedCount = Object.values(_this._loadTracker).filter(function (v) {\n          return !v;\n        }).length;\n\n        if (unloadedCount === 0) {\n          _this.setState({\n            oldTiles: []\n          }, NOOP);\n        }\n      }\n    };\n\n    _this.handleTouchStart = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      if (event.target && parentHasClass(event.target, 'pigeon-drag-block')) {\n        return;\n      }\n\n      if (event.touches.length === 1) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n\n        if (_this.coordsInside(pixel)) {\n          _this._touchStartPixel = [pixel];\n\n          if (!_this.props.twoFingerDrag) {\n            _this.stopAnimating();\n\n            if (_this._lastTap && performanceNow() - _this._lastTap < DOUBLE_CLICK_DELAY) {\n              event.preventDefault();\n\n              var latLngNow = _this.pixelToLatLng(_this._touchStartPixel[0]);\n\n              _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n            } else {\n              _this._lastTap = performanceNow();\n\n              _this.trackMoveEvents(pixel);\n            }\n          }\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel) {\n        event.preventDefault();\n\n        _this.stopTrackingMoveEvents();\n\n        if (_this.state.pixelDelta || _this.state.zoomDelta) {\n          _this.sendDeltaChange();\n        }\n\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        _this._touchStartPixel = [t1, t2];\n        _this._touchStartMidPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        _this._touchStartDistance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n      }\n    };\n\n    _this.handleTouchMove = function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n\n      if (event.touches.length === 1 && _this._touchStartPixel) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n\n        if (_this.props.twoFingerDrag) {\n          if (_this.coordsInside(pixel)) {\n            _this.showWarning('fingers');\n          }\n        } else {\n          event.preventDefault();\n\n          _this.trackMoveEvents(pixel);\n\n          _this.setState({\n            pixelDelta: [pixel[0] - _this._touchStartPixel[0][0], pixel[1] - _this._touchStartPixel[0][1]]\n          }, NOOP);\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel && _this._touchStartMidPoint && _this._touchStartDistance) {\n        var _this$state3 = _this.state,\n            width = _this$state3.width,\n            height = _this$state3.height,\n            zoom = _this$state3.zoom;\n        event.preventDefault();\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        var midPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        var midPointDiff = [midPoint[0] - _this._touchStartMidPoint[0], midPoint[1] - _this._touchStartMidPoint[1]];\n        var distance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n        var zoomDelta = Math.max(_this.props.minZoom, Math.min(_this.props.maxZoom, zoom + Math.log2(distance / _this._touchStartDistance))) - zoom;\n        var scale = Math.pow(2, zoomDelta);\n        var centerDiffDiff = [(width / 2 - midPoint[0]) * (scale - 1), (height / 2 - midPoint[1]) * (scale - 1)];\n\n        _this.setState({\n          zoomDelta: zoomDelta,\n          pixelDelta: [centerDiffDiff[0] + midPointDiff[0] * scale, centerDiffDiff[1] + midPointDiff[1] * scale]\n        }, NOOP);\n      }\n    };\n\n    _this.handleTouchEnd = function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n\n      if (_this._touchStartPixel) {\n        var _this$props = _this.props,\n            zoomSnap = _this$props.zoomSnap,\n            twoFingerDrag = _this$props.twoFingerDrag,\n            minZoom = _this$props.minZoom,\n            maxZoom = _this$props.maxZoom;\n        var zoomDelta = _this.state.zoomDelta;\n\n        var _this$sendDeltaChange = _this.sendDeltaChange(),\n            center = _this$sendDeltaChange.center,\n            zoom = _this$sendDeltaChange.zoom;\n\n        if (event.touches.length === 0) {\n          if (twoFingerDrag) {\n            _this.clearWarning();\n          } else {\n            var oldTouchPixel = _this._touchStartPixel[0];\n            var newTouchPixel = getMousePixel(_this._containerRef, event.changedTouches[0]);\n\n            if (Math.abs(oldTouchPixel[0] - newTouchPixel[0]) > CLICK_TOLERANCE || Math.abs(oldTouchPixel[1] - newTouchPixel[1]) > CLICK_TOLERANCE) {\n              if (!_this._secondTouchEnd || performanceNow() - _this._secondTouchEnd > PINCH_RELEASE_THROW_DELAY) {\n                event.preventDefault();\n\n                _this.throwAfterMoving(newTouchPixel, center, zoom);\n              }\n            }\n\n            _this._touchStartPixel = null;\n            _this._secondTouchEnd = null;\n          }\n        } else if (event.touches.length === 1) {\n          event.preventDefault();\n          var touch = getMousePixel(_this._containerRef, event.touches[0]);\n          _this._secondTouchEnd = performanceNow();\n          _this._touchStartPixel = [touch];\n\n          _this.trackMoveEvents(touch);\n\n          if (zoomSnap) {\n            var latLng = _this._touchStartMidPoint ? _this.pixelToLatLng(_this._touchStartMidPoint) : _this.state.center;\n            var zoomTarget;\n\n            if (twoFingerDrag && Math.round(_this.state.zoom) === Math.round(_this.state.zoom + zoomDelta)) {\n              zoomTarget = Math.round(_this.state.zoom);\n            } else {\n              zoomTarget = zoomDelta > 0 ? Math.ceil(_this.state.zoom) : Math.floor(_this.state.zoom);\n            }\n\n            var _zoom = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n\n            _this.setCenterZoomTarget(latLng, _zoom, false, latLng);\n          }\n        }\n      }\n    };\n\n    _this.handleMouseDown = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      var pixel = getMousePixel(_this._containerRef, event);\n\n      if (event.button === 0 && (!event.target || !parentHasClass(event.target, 'pigeon-drag-block')) && _this.coordsInside(pixel)) {\n        _this.stopAnimating();\n\n        event.preventDefault();\n\n        if (_this._lastClick && performanceNow() - _this._lastClick < DOUBLE_CLICK_DELAY) {\n          var latLngNow = _this.pixelToLatLng(_this._mousePosition || pixel);\n\n          _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n        } else {\n          _this._lastClick = performanceNow();\n          _this._mouseDown = true;\n          _this._dragStart = pixel;\n\n          _this.trackMoveEvents(pixel);\n        }\n      }\n    };\n\n    _this.handleMouseMove = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n\n      if (_this._mouseDown && _this._dragStart) {\n        _this.trackMoveEvents(_this._mousePosition);\n\n        _this.setState({\n          pixelDelta: [_this._mousePosition[0] - _this._dragStart[0], _this._mousePosition[1] - _this._dragStart[1]]\n        }, NOOP);\n      }\n    };\n\n    _this.handleMouseUp = function (event) {\n      if (!_this._containerRef) {\n        _this._mouseDown = false;\n        return;\n      }\n\n      var pixelDelta = _this.state.pixelDelta;\n\n      if (_this._mouseDown) {\n        _this._mouseDown = false;\n        var pixel = getMousePixel(_this._containerRef, event);\n\n        if (_this.props.onClick && (!event.target || !parentHasClass(event.target, 'pigeon-click-block')) && (!pixelDelta || Math.abs(pixelDelta[0]) + Math.abs(pixelDelta[1]) <= CLICK_TOLERANCE)) {\n          var latLng = _this.pixelToLatLng(pixel);\n\n          _this.props.onClick({\n            event: event,\n            latLng: latLng,\n            pixel: pixel\n          });\n\n          _this.setState({\n            pixelDelta: undefined\n          }, NOOP);\n        } else {\n          var _this$sendDeltaChange2 = _this.sendDeltaChange(),\n              center = _this$sendDeltaChange2.center,\n              zoom = _this$sendDeltaChange2.zoom;\n\n          _this.throwAfterMoving(pixel, center, zoom);\n        }\n      }\n    };\n\n    _this.stopTrackingMoveEvents = function () {\n      _this._moveEvents = [];\n    };\n\n    _this.trackMoveEvents = function (coords) {\n      var timestamp = performanceNow();\n\n      if (_this._moveEvents.length === 0 || timestamp - _this._moveEvents[_this._moveEvents.length - 1].timestamp > 40) {\n        _this._moveEvents.push({\n          timestamp: timestamp,\n          coords: coords\n        });\n\n        if (_this._moveEvents.length > 2) {\n          _this._moveEvents.shift();\n        }\n      }\n    };\n\n    _this.throwAfterMoving = function (coords, center, zoom) {\n      var _this$state4 = _this.state,\n          width = _this$state4.width,\n          height = _this$state4.height;\n      var animate = _this.props.animate;\n      var timestamp = performanceNow();\n\n      var lastEvent = _this._moveEvents.shift();\n\n      if (lastEvent && animate) {\n        var deltaMs = Math.max(timestamp - lastEvent.timestamp, 1);\n        var delta = [(coords[0] - lastEvent.coords[0]) / deltaMs * 120, (coords[1] - lastEvent.coords[1]) / deltaMs * 120];\n        var distance = Math.sqrt(delta[0] * delta[0] + delta[1] * delta[1]);\n\n        if (distance > MIN_DRAG_FOR_THROW) {\n          var diagonal = Math.sqrt(width * width + height * height);\n          var throwTime = DIAGONAL_THROW_TIME * distance / diagonal;\n          var lng = tile2lng(lng2tile(center[1], zoom) - delta[0] / 256.0, zoom);\n          var lat = tile2lat(lat2tile(center[0], zoom) - delta[1] / 256.0, zoom);\n\n          _this.setCenterZoomTarget([lat, lng], zoom, false, null, throwTime);\n        }\n      }\n\n      _this.stopTrackingMoveEvents();\n    };\n\n    _this.sendDeltaChange = function () {\n      var _this$state5 = _this.state,\n          center = _this$state5.center,\n          zoom = _this$state5.zoom,\n          pixelDelta = _this$state5.pixelDelta,\n          zoomDelta = _this$state5.zoomDelta;\n      var lat = center[0];\n      var lng = center[1];\n\n      if (pixelDelta || zoomDelta !== 0) {\n        lng = tile2lng(lng2tile(center[1], zoom + zoomDelta) - (pixelDelta ? pixelDelta[0] / 256.0 : 0), zoom + zoomDelta);\n        lat = tile2lat(lat2tile(center[0], zoom + zoomDelta) - (pixelDelta ? pixelDelta[1] / 256.0 : 0), zoom + zoomDelta);\n\n        _this.setCenterZoom([lat, lng], zoom + zoomDelta);\n      }\n\n      _this.setState({\n        pixelDelta: undefined,\n        zoomDelta: 0\n      }, NOOP);\n\n      return {\n        center: _this.limitCenterAtZoom([lat, lng], zoom + zoomDelta),\n        zoom: zoom + zoomDelta\n      };\n    };\n\n    _this.getBounds = function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state6 = _this.state,\n          width = _this$state6.width,\n          height = _this$state6.height;\n      return {\n        ne: _this.pixelToLatLng([width - 1, 0], center, zoom),\n        sw: _this.pixelToLatLng([0, height - 1], center, zoom)\n      };\n    };\n\n    _this.syncToProps = function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.state.zoom;\n      }\n\n      var onBoundsChanged = _this.props.onBoundsChanged;\n\n      if (onBoundsChanged) {\n        var bounds = _this.getBounds(center, zoom);\n\n        onBoundsChanged({\n          center: center,\n          zoom: zoom,\n          bounds: bounds,\n          initial: !_this._boundsSynced\n        });\n        _this._boundsSynced = true;\n      }\n    };\n\n    _this.handleWheel = function (event) {\n      var _this$props2 = _this.props,\n          mouseEvents = _this$props2.mouseEvents,\n          metaWheelZoom = _this$props2.metaWheelZoom,\n          zoomSnap = _this$props2.zoomSnap,\n          animate = _this$props2.animate;\n\n      if (!mouseEvents) {\n        return;\n      }\n\n      if (!metaWheelZoom || event.metaKey) {\n        event.preventDefault();\n        var addToZoom = -event.deltaY / SCROLL_PIXELS_FOR_ZOOM_LEVEL;\n\n        if (!zoomSnap && _this._zoomTarget) {\n          var stillToAdd = _this._zoomTarget - _this.state.zoom;\n\n          _this.zoomAroundMouse(addToZoom + stillToAdd, event);\n        } else {\n          if (animate) {\n            _this.zoomAroundMouse(addToZoom, event);\n          } else {\n            if (!_this._lastWheel || performanceNow() - _this._lastWheel > ANIMATION_TIME) {\n              _this._lastWheel = performanceNow();\n\n              _this.zoomAroundMouse(addToZoom, event);\n            }\n          }\n        }\n      } else {\n        _this.showWarning('wheel');\n      }\n    };\n\n    _this.showWarning = function (warningType) {\n      if (!_this.state.showWarning || _this.state.warningType !== warningType) {\n        _this.setState({\n          showWarning: true,\n          warningType: warningType\n        });\n      }\n\n      if (_this._warningClearTimeout) {\n        window.clearTimeout(_this._warningClearTimeout);\n      }\n\n      _this._warningClearTimeout = window.setTimeout(_this.clearWarning, WARNING_DISPLAY_TIMEOUT);\n    };\n\n    _this.clearWarning = function () {\n      if (_this.state.showWarning) {\n        _this.setState({\n          showWarning: false\n        });\n      }\n    };\n\n    _this.zoomAroundMouse = function (zoomDiff, event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      var zoom = _this.state.zoom;\n      var _this$props3 = _this.props,\n          minZoom = _this$props3.minZoom,\n          maxZoom = _this$props3.maxZoom,\n          zoomSnap = _this$props3.zoomSnap;\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n\n      if (!_this._mousePosition || zoom === minZoom && zoomDiff < 0 || zoom === maxZoom && zoomDiff > 0) {\n        return;\n      }\n\n      var latLngNow = _this.pixelToLatLng(_this._mousePosition);\n\n      var zoomTarget = zoom + zoomDiff;\n\n      if (zoomSnap) {\n        zoomTarget = zoomDiff < 0 ? Math.floor(zoomTarget) : Math.ceil(zoomTarget);\n      }\n\n      zoomTarget = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n\n      _this.setCenterZoomTarget(null, zoomTarget, false, latLngNow);\n    };\n\n    _this.zoomPlusDelta = function () {\n      return _this.state.zoom + _this.state.zoomDelta;\n    };\n\n    _this.pixelToLatLng = function (pixel, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state7 = _this.state,\n          width = _this$state7.width,\n          height = _this$state7.height,\n          pixelDelta = _this$state7.pixelDelta;\n      var pointDiff = [(pixel[0] - width / 2 - (pixelDelta ? pixelDelta[0] : 0)) / 256.0, (pixel[1] - height / 2 - (pixelDelta ? pixelDelta[1] : 0)) / 256.0];\n      var tileX = lng2tile(center[1], zoom) + pointDiff[0];\n      var tileY = lat2tile(center[0], zoom) + pointDiff[1];\n      return [Math.max(absoluteMinMax[0], Math.min(absoluteMinMax[1], tile2lat(tileY, zoom))), Math.max(absoluteMinMax[2], Math.min(absoluteMinMax[3], tile2lng(tileX, zoom)))];\n    };\n\n    _this.latLngToPixel = function (latLng, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state8 = _this.state,\n          width = _this$state8.width,\n          height = _this$state8.height,\n          pixelDelta = _this$state8.pixelDelta;\n      var tileCenterX = lng2tile(center[1], zoom);\n      var tileCenterY = lat2tile(center[0], zoom);\n      var tileX = lng2tile(latLng[1], zoom);\n      var tileY = lat2tile(latLng[0], zoom);\n      return [(tileX - tileCenterX) * 256.0 + width / 2 + (pixelDelta ? pixelDelta[0] : 0), (tileY - tileCenterY) * 256.0 + height / 2 + (pixelDelta ? pixelDelta[1] : 0)];\n    };\n\n    _this.calculateZoomCenter = function (center, coords, oldZoom, newZoom) {\n      var _this$state9 = _this.state,\n          width = _this$state9.width,\n          height = _this$state9.height;\n\n      var pixelBefore = _this.latLngToPixel(coords, center, oldZoom);\n\n      var pixelAfter = _this.latLngToPixel(coords, center, newZoom);\n\n      var newCenter = _this.pixelToLatLng([width / 2 + pixelAfter[0] - pixelBefore[0], height / 2 + pixelAfter[1] - pixelBefore[1]], center, newZoom);\n\n      return _this.limitCenterAtZoom(newCenter, newZoom);\n    };\n\n    _this.setRef = function (dom) {\n      _this._containerRef = dom;\n    };\n\n    _this.syncToProps = debounce(_this.syncToProps, DEBOUNCE_DELAY);\n    _this._lastZoom = (_ref = (_props$defaultZoom = props.defaultZoom) !== null && _props$defaultZoom !== void 0 ? _props$defaultZoom : props.zoom) !== null && _ref !== void 0 ? _ref : 14;\n    _this._lastCenter = (_ref2 = (_props$defaultCenter = props.defaultCenter) !== null && _props$defaultCenter !== void 0 ? _props$defaultCenter : props.center) !== null && _ref2 !== void 0 ? _ref2 : [0, 0];\n    _this.state = {\n      zoom: _this._lastZoom,\n      center: _this._lastCenter,\n      width: (_ref3 = (_props$width = props.width) !== null && _props$width !== void 0 ? _props$width : props.defaultWidth) !== null && _ref3 !== void 0 ? _ref3 : -1,\n      height: (_ref4 = (_props$height = props.height) !== null && _props$height !== void 0 ? _props$height : props.defaultHeight) !== null && _ref4 !== void 0 ? _ref4 : -1,\n      zoomDelta: 0,\n      pixelDelta: undefined,\n      oldTiles: [],\n      showWarning: false,\n      warningType: undefined\n    };\n    return _this;\n  }\n\n  var _proto = Map.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.props.mouseEvents && this.bindMouseEvents();\n    this.props.touchEvents && this.bindTouchEvents();\n\n    if (!this.props.width || !this.props.height) {\n      if (!this.updateWidthHeight()) {\n        requestAnimationFrame(this.updateWidthHeight);\n      }\n\n      this.bindResizeEvent();\n    }\n\n    this.bindWheelEvent();\n    this.syncToProps();\n\n    if (typeof ResizeObserver != 'undefined') {\n      this._resizeObserver = new ResizeObserver(function () {\n        _this2.updateWidthHeight();\n      });\n\n      this._resizeObserver.observe(this._containerRef);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.props.mouseEvents && this.unbindMouseEvents();\n    this.props.touchEvents && this.unbindTouchEvents();\n    this.unbindWheelEvent();\n\n    if (!this.props.width || !this.props.height) {\n      this.unbindResizeEvent();\n    }\n\n    if (this._resizeObserver) {\n      this._resizeObserver.disconnect();\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _prevProps$center;\n\n    if (this.props.mouseEvents !== prevProps.mouseEvents) {\n      this.props.mouseEvents ? this.bindMouseEvents() : this.unbindMouseEvents();\n    }\n\n    if (this.props.touchEvents !== prevProps.touchEvents) {\n      this.props.touchEvents ? this.bindTouchEvents() : this.unbindTouchEvents();\n    }\n\n    if (this.props.width && this.props.width !== prevProps.width) {\n      this.setState({\n        width: this.props.width\n      });\n    }\n\n    if (this.props.height && this.props.height !== prevProps.height) {\n      this.setState({\n        height: this.props.height\n      });\n    }\n\n    if (!this.props.center && !this.props.zoom) {\n      return;\n    }\n\n    if ((!this.props.center || this.props.center[0] === (prevProps === null || prevProps === void 0 ? void 0 : (_prevProps$center = prevProps.center) === null || _prevProps$center === void 0 ? void 0 : _prevProps$center[0]) && this.props.center[1] === prevProps.center[1]) && this.props.zoom === prevProps.zoom) {\n      return;\n    }\n\n    var currentCenter = this._isAnimating ? this._centerTarget : this.state.center;\n    var currentZoom = this._isAnimating ? this._zoomTarget : this.state.zoom;\n\n    if (currentCenter && currentZoom) {\n      var _this$props$center, _this$props$zoom;\n\n      var nextCenter = (_this$props$center = this.props.center) !== null && _this$props$center !== void 0 ? _this$props$center : currentCenter;\n      var nextZoom = (_this$props$zoom = this.props.zoom) !== null && _this$props$zoom !== void 0 ? _this$props$zoom : currentZoom;\n\n      if (Math.abs(nextZoom - currentZoom) > 0.001 || Math.abs(nextCenter[0] - currentCenter[0]) > 0.0001 || Math.abs(nextCenter[1] - currentCenter[1]) > 0.0001) {\n        this.setCenterZoomTarget(nextCenter, nextZoom, true);\n      }\n    }\n  };\n\n  _proto.coordsInside = function coordsInside(pixel) {\n    var _this$state10 = this.state,\n        width = _this$state10.width,\n        height = _this$state10.height;\n\n    if (pixel[0] < 0 || pixel[1] < 0 || pixel[0] >= width || pixel[1] >= height) {\n      return false;\n    }\n\n    var parent = this._containerRef;\n\n    if (parent) {\n      var pos = parentPosition(parent);\n      var element = document.elementFromPoint(pixel[0] + pos.x, pixel[1] + pos.y);\n      return parent === element || parent.contains(element);\n    } else {\n      return false;\n    }\n  };\n\n  _proto.tileValues = function tileValues(_ref5) {\n    var center = _ref5.center,\n        zoom = _ref5.zoom,\n        pixelDelta = _ref5.pixelDelta,\n        zoomDelta = _ref5.zoomDelta,\n        width = _ref5.width,\n        height = _ref5.height;\n    var roundedZoom = Math.round(zoom + (zoomDelta || 0));\n    var zoomDiff = zoom + (zoomDelta || 0) - roundedZoom;\n    var scale = Math.pow(2, zoomDiff);\n    var scaleWidth = width / scale;\n    var scaleHeight = height / scale;\n    var tileCenterX = lng2tile(center[1], roundedZoom) - (pixelDelta ? pixelDelta[0] / 256.0 / scale : 0);\n    var tileCenterY = lat2tile(center[0], roundedZoom) - (pixelDelta ? pixelDelta[1] / 256.0 / scale : 0);\n    var halfWidth = scaleWidth / 2 / 256.0;\n    var halfHeight = scaleHeight / 2 / 256.0;\n    var tileMinX = Math.floor(tileCenterX - halfWidth);\n    var tileMaxX = Math.floor(tileCenterX + halfWidth);\n    var tileMinY = Math.floor(tileCenterY - halfHeight);\n    var tileMaxY = Math.floor(tileCenterY + halfHeight);\n    return {\n      tileMinX: tileMinX,\n      tileMaxX: tileMaxX,\n      tileMinY: tileMinY,\n      tileMaxY: tileMaxY,\n      tileCenterX: tileCenterX,\n      tileCenterY: tileCenterY,\n      roundedZoom: roundedZoom,\n      zoomDelta: zoomDelta || 0,\n      scaleWidth: scaleWidth,\n      scaleHeight: scaleHeight,\n      scale: scale\n    };\n  };\n\n  _proto.renderTiles = function renderTiles() {\n    var _this3 = this;\n\n    var oldTiles = this.state.oldTiles;\n    var dprs = this.props.dprs;\n    var mapUrl = this.props.provider || stamenToner;\n\n    var _this$tileValues = this.tileValues(this.state),\n        tileMinX = _this$tileValues.tileMinX,\n        tileMaxX = _this$tileValues.tileMaxX,\n        tileMinY = _this$tileValues.tileMinY,\n        tileMaxY = _this$tileValues.tileMaxY,\n        tileCenterX = _this$tileValues.tileCenterX,\n        tileCenterY = _this$tileValues.tileCenterY,\n        roundedZoom = _this$tileValues.roundedZoom,\n        scaleWidth = _this$tileValues.scaleWidth,\n        scaleHeight = _this$tileValues.scaleHeight,\n        scale = _this$tileValues.scale;\n\n    var tiles = [];\n\n    for (var i = 0; i < oldTiles.length; i++) {\n      var old = oldTiles[i];\n      var zoomDiff = old.roundedZoom - roundedZoom;\n\n      if (Math.abs(zoomDiff) > 4 || zoomDiff === 0) {\n        continue;\n      }\n\n      var pow = 1 / Math.pow(2, zoomDiff);\n      var xDiff = -(tileMinX - old.tileMinX * pow) * 256;\n      var yDiff = -(tileMinY - old.tileMinY * pow) * 256;\n\n      var _xMin = Math.max(old.tileMinX, 0);\n\n      var _yMin = Math.max(old.tileMinY, 0);\n\n      var _xMax = Math.min(old.tileMaxX, Math.pow(2, old.roundedZoom) - 1);\n\n      var _yMax = Math.min(old.tileMaxY, Math.pow(2, old.roundedZoom) - 1);\n\n      for (var x = _xMin; x <= _xMax; x++) {\n        for (var y = _yMin; y <= _yMax; y++) {\n          tiles.push({\n            key: x + \"-\" + y + \"-\" + old.roundedZoom,\n            url: mapUrl(x, y, old.roundedZoom),\n            srcSet: srcSet(dprs, mapUrl, x, y, old.roundedZoom),\n            left: xDiff + (x - old.tileMinX) * 256 * pow,\n            top: yDiff + (y - old.tileMinY) * 256 * pow,\n            width: 256 * pow,\n            height: 256 * pow,\n            active: false\n          });\n        }\n      }\n    }\n\n    var xMin = Math.max(tileMinX, 0);\n    var yMin = Math.max(tileMinY, 0);\n    var xMax = Math.min(tileMaxX, Math.pow(2, roundedZoom) - 1);\n    var yMax = Math.min(tileMaxY, Math.pow(2, roundedZoom) - 1);\n\n    for (var _x = xMin; _x <= xMax; _x++) {\n      for (var _y = yMin; _y <= yMax; _y++) {\n        tiles.push({\n          key: _x + \"-\" + _y + \"-\" + roundedZoom,\n          url: mapUrl(_x, _y, roundedZoom),\n          srcSet: srcSet(dprs, mapUrl, _x, _y, roundedZoom),\n          left: (_x - tileMinX) * 256,\n          top: (_y - tileMinY) * 256,\n          width: 256,\n          height: 256,\n          active: true\n        });\n      }\n    }\n\n    var boxStyle = {\n      width: scaleWidth,\n      height: scaleHeight,\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      overflow: 'hidden',\n      willChange: 'transform',\n      transform: \"scale(\" + scale + \", \" + scale + \")\",\n      transformOrigin: 'top left'\n    };\n    var boxClassname = this.props.boxClassname || 'pigeon-tiles-box';\n    var left = -((tileCenterX - tileMinX) * 256 - scaleWidth / 2);\n    var top = -((tileCenterY - tileMinY) * 256 - scaleHeight / 2);\n    var tilesStyle = {\n      position: 'absolute',\n      width: (tileMaxX - tileMinX + 1) * 256,\n      height: (tileMaxY - tileMinY + 1) * 256,\n      willChange: 'transform',\n      transform: \"translate(\" + left + \"px, \" + top + \"px)\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: boxStyle,\n      className: boxClassname\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pigeon-tiles\",\n      style: tilesStyle\n    }, tiles.map(function (tile) {\n      return /*#__PURE__*/React.createElement(\"img\", {\n        key: tile.key,\n        src: tile.url,\n        srcSet: tile.srcSet,\n        width: tile.width,\n        height: tile.height,\n        loading: 'lazy',\n        onLoad: function onLoad() {\n          return _this3.imageLoaded(tile.key);\n        },\n        alt: '',\n        style: {\n          position: 'absolute',\n          left: tile.left,\n          top: tile.top,\n          willChange: 'transform',\n          transformOrigin: 'top left',\n          opacity: 1\n        }\n      });\n    })));\n  };\n\n  _proto.renderOverlays = function renderOverlays() {\n    var _this4 = this;\n\n    var _this$state11 = this.state,\n        width = _this$state11.width,\n        height = _this$state11.height,\n        center = _this$state11.center;\n    var mapState = {\n      bounds: this.getBounds(),\n      zoom: this.zoomPlusDelta(),\n      center: center,\n      width: width,\n      height: height\n    };\n    var childrenWithProps = React.Children.map(this.props.children, function (child) {\n      if (!child) {\n        return null;\n      }\n\n      if (! /*#__PURE__*/React.isValidElement(child)) {\n        return child;\n      }\n\n      var _child$props = child.props,\n          anchor = _child$props.anchor,\n          position = _child$props.position,\n          offset = _child$props.offset;\n\n      var c = _this4.latLngToPixel(anchor || position || center);\n\n      return /*#__PURE__*/React.cloneElement(child, {\n        left: c[0] - (offset ? offset[0] : 0),\n        top: c[1] - (offset ? offset[1] : 0),\n        latLngToPixel: _this4.latLngToPixel,\n        pixelToLatLng: _this4.pixelToLatLng,\n        mapState: mapState\n      });\n    });\n    var childrenStyle = {\n      position: 'absolute',\n      width: width,\n      height: height,\n      top: 0,\n      left: 0\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pigeon-overlays\",\n      style: childrenStyle\n    }, childrenWithProps);\n  };\n\n  _proto.renderAttribution = function renderAttribution() {\n    var _this$props4 = this.props,\n        attribution = _this$props4.attribution,\n        attributionPrefix = _this$props4.attributionPrefix;\n\n    if (attribution === false) {\n      return null;\n    }\n\n    var style = {\n      position: 'absolute',\n      bottom: 0,\n      right: 0,\n      fontSize: '11px',\n      padding: '2px 5px',\n      background: 'rgba(255, 255, 255, 0.7)',\n      fontFamily: \"'Helvetica Neue', Helvetica, Arial, sans-serif\",\n      color: '#333'\n    };\n    var linkStyle = {\n      color: '#0078A8',\n      textDecoration: 'none'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: \"attr\",\n      className: \"pigeon-attribution\",\n      style: style\n    }, attributionPrefix === false ? null : /*#__PURE__*/React.createElement(\"span\", null, attributionPrefix || /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://pigeon-maps.js.org/\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"Pigeon\"), ' | '), attribution || /*#__PURE__*/React.createElement(\"span\", null, ' © ', /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.openstreetmap.org/copyright\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"OpenStreetMap\"), ' contributors'));\n  };\n\n  _proto.renderWarning = function renderWarning() {\n    var _this$props5 = this.props,\n        metaWheelZoom = _this$props5.metaWheelZoom,\n        metaWheelZoomWarning = _this$props5.metaWheelZoomWarning,\n        twoFingerDrag = _this$props5.twoFingerDrag,\n        twoFingerDragWarning = _this$props5.twoFingerDragWarning,\n        warningZIndex = _this$props5.warningZIndex;\n    var _this$state12 = this.state,\n        showWarning = _this$state12.showWarning,\n        warningType = _this$state12.warningType,\n        width = _this$state12.width,\n        height = _this$state12.height;\n\n    if (metaWheelZoom && metaWheelZoomWarning || twoFingerDrag && twoFingerDragWarning) {\n      var style = {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: width,\n        height: height,\n        overflow: 'hidden',\n        pointerEvents: 'none',\n        opacity: showWarning ? 100 : 0,\n        transition: 'opacity 300ms',\n        background: 'rgba(0,0,0,0.5)',\n        color: '#fff',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        fontSize: 22,\n        fontFamily: '\"Arial\", sans-serif',\n        textAlign: 'center',\n        zIndex: warningZIndex\n      };\n      var meta = typeof window !== 'undefined' && window.navigator && window.navigator.platform.toUpperCase().indexOf('MAC') >= 0 ? '⌘' : '⊞';\n      var warningText = warningType === 'fingers' ? twoFingerDragWarning : metaWheelZoomWarning;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pigeon-overlay-warning\",\n        style: style\n      }, warningText.replace('META', meta));\n    } else {\n      return null;\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props6 = this.props,\n        touchEvents = _this$props6.touchEvents,\n        twoFingerDrag = _this$props6.twoFingerDrag;\n    var _this$state13 = this.state,\n        width = _this$state13.width,\n        height = _this$state13.height;\n    var containerStyle = {\n      width: this.props.width ? width : '100%',\n      height: this.props.height ? height : '100%',\n      position: 'relative',\n      display: 'inline-block',\n      overflow: 'hidden',\n      background: '#dddddd',\n      touchAction: touchEvents ? twoFingerDrag ? 'pan-x pan-y' : 'none' : 'auto'\n    };\n    var hasSize = !!(width && height);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: containerStyle,\n      ref: this.setRef\n    }, hasSize && this.renderTiles(), hasSize && this.renderOverlays(), hasSize && this.renderAttribution(), hasSize && this.renderWarning());\n  };\n\n  return Map;\n}(Component);\n\nMap.defaultProps = {\n  animate: true,\n  metaWheelZoom: false,\n  metaWheelZoomWarning: 'Use META+wheel to zoom!',\n  twoFingerDrag: false,\n  twoFingerDragWarning: 'Use two fingers to move the map',\n  zoomSnap: true,\n  mouseEvents: true,\n  touchEvents: true,\n  warningZIndex: 100,\n  animateMaxScreens: 5,\n  minZoom: 1,\n  maxZoom: 18,\n  limitBounds: 'center',\n  dprs: []\n};\n\nfunction Marker(props) {\n  var width = typeof props.width !== 'undefined' ? props.width : typeof props.height !== 'undefined' ? props.height * 29 / 34 : 29;\n  var height = typeof props.height !== 'undefined' ? props.height : typeof props.width !== 'undefined' ? props.width * 34 / 29 : 34;\n\n  var _useState = useState(props.hover || false),\n      internalHover = _useState[0],\n      setInternalHover = _useState[1];\n\n  var hover = typeof props.hover === 'undefined' ? internalHover : props.hover;\n  var color = props.color || '#93C0D0';\n\n  var eventParameters = function eventParameters(event) {\n    return {\n      event: event,\n      anchor: props.anchor,\n      payload: props.payload\n    };\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + (props.left - width / 2) + \"px, \" + (props.top - (height - 1)) + \"px)\",\n      filter: hover ? 'drop-shadow(0 0 4px rgba(0, 0, 0, .3))' : '',\n      pointerEvents: 'none'\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: width,\n    height: height,\n    viewBox: \"0 0 61 71\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      pointerEvents: 'auto'\n    },\n    onClick: props.onClick ? function (event) {\n      return props.onClick(eventParameters(event));\n    } : null,\n    onContextMenu: props.onContextMenu ? function (event) {\n      return props.onContextMenu(eventParameters(event));\n    } : null,\n    onMouseOver: function onMouseOver(event) {\n      props.onMouseOver && props.onMouseOver(eventParameters(event));\n      setInternalHover(true);\n    },\n    onMouseOut: function onMouseOut(event) {\n      props.onMouseOut && props.onMouseOut(eventParameters(event));\n      setInternalHover(false);\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M52 31.5C52 36.8395 49.18 42.314 45.0107 47.6094C40.8672 52.872 35.619 57.678 31.1763 61.6922C30.7916 62.0398 30.2084 62.0398 29.8237 61.6922C25.381 57.678 20.1328 52.872 15.9893 47.6094C11.82 42.314 9 36.8395 9 31.5C9 18.5709 18.6801 9 30.5 9C42.3199 9 52 18.5709 52 31.5Z\",\n    fill: color,\n    stroke: \"white\",\n    strokeWidth: \"4\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"30.5\",\n    cy: \"30.5\",\n    r: \"8.5\",\n    fill: \"white\",\n    opacity: hover ? 0.98 : 0.6\n  }))));\n}\n\nfunction Overlay(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + props.left + \"px, \" + props.top + \"px)\"\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, props.children);\n}\n\nexport default Map;\nexport { Map, Marker, Overlay };","map":{"version":3,"sources":["/home/feu/Trybe/trybe-exercises/exercises/frond-end/bloco-15-novo-gerenciamento-de-estado-com-redux/dia-3-usando-o-redux-no-react-actions-assincronas/sd-14a-live-lectures-lecture-15.4-Redux/iss-location/node_modules/pigeon-maps/lib/index.esm.js"],"names":["React","Component","useState","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_inheritsLoose","subClass","superClass","prototype","create","constructor","__proto__","debounce","func","wait","timeout","_len","args","Array","_key","context","clearTimeout","setTimeout","parentHasClass","element","className","classList","contains","parentElement","parentPosition","rect","getBoundingClientRect","x","left","y","top","ANIMATION_TIME","DIAGONAL_THROW_TIME","SCROLL_PIXELS_FOR_ZOOM_LEVEL","MIN_DRAG_FOR_THROW","CLICK_TOLERANCE","DOUBLE_CLICK_DELAY","DEBOUNCE_DELAY","PINCH_RELEASE_THROW_DELAY","WARNING_DISPLAY_TIMEOUT","NOOP","stamenToner","z","dpr","lng2tile","lon","zoom","Math","pow","lat2tile","lat","log","tan","PI","cos","tile2lng","tile2lat","n","atan","exp","getMousePixel","dom","event","parent","clientX","clientY","easeOutQuad","t","absoluteMinMax","hasWindow","window","performanceNow","performance","now","timeStart","Date","getTime","requestAnimationFrame","callback","cancelAnimationFrame","animFrame","srcSet","dprs","url","map","join","Map","_Component","props","_ref","_props$defaultZoom","_ref2","_props$defaultCenter","_ref3","_props$width","_ref4","_props$height","_this","call","_dragStart","_mouseDown","_moveEvents","_lastClick","_lastTap","_lastWheel","_touchStartPixel","_touchStartMidPoint","_touchStartDistance","_secondTouchEnd","_warningClearTimeout","_isAnimating","_animationStart","_animationEnd","_zoomStart","_centerTarget","_zoomTarget","_zoomAround","_animFrame","_boundsSynced","_minMaxCache","_resizeObserver","updateWidthHeight","_containerRef","width","height","setState","wa","_window","addEventListener","wr","_window2","removeEventListener","bindMouseEvents","handleMouseDown","handleMouseUp","handleMouseMove","bindTouchEvents","handleTouchStart","passive","handleTouchMove","handleTouchEnd","unbindMouseEvents","unbindTouchEvents","bindResizeEvent","unbindResizeEvent","bindWheelEvent","handleWheel","unbindWheelEvent","setCenterZoomTarget","center","fromProps","zoomAround","animationDuration","animate","distanceInScreens","state","animateMaxScreens","_this$animationStep","animationStep","centerStep","zoomStep","_centerStart","limitCenterAtZoom","_lastCenter","_lastZoom","onAnimationStart","calculateZoomCenter","stopAnimating","_center","setCenterZoom","centerTarget","zoomTarget","_this$state","l1","latLngToPixel","l2","z1","z2","w","abs","h","sqrt","timestamp","progress","max","percentage","zoomDiff","_centerStep","onAnimationStop","_this$animationStep2","minMax","getBoundsMinMax","min","isNaN","animationEnded","limitedCenter","round","tileValues","nextValues","oldTiles","o","roundedZoom","concat","loadTracker","tileMinX","tileMaxX","tileMinY","tileMaxY","_loadTracker","maybeZoom","maybeCenter","syncToProps","limitBounds","_this$state2","pixelsAtZoom","minLng","minLat","maxLng","maxLat","imageLoaded","unloadedCount","values","v","touches","touch","pixel","coordsInside","twoFingerDrag","preventDefault","latLngNow","pixelToLatLng","minZoom","maxZoom","trackMoveEvents","stopTrackingMoveEvents","pixelDelta","zoomDelta","sendDeltaChange","t1","t2","showWarning","_this$state3","midPoint","midPointDiff","distance","log2","scale","centerDiffDiff","_this$props","zoomSnap","_this$sendDeltaChange","clearWarning","oldTouchPixel","newTouchPixel","changedTouches","throwAfterMoving","latLng","ceil","floor","_zoom","button","_mousePosition","onClick","undefined","_this$sendDeltaChange2","coords","shift","_this$state4","lastEvent","deltaMs","delta","diagonal","throwTime","lng","_this$state5","getBounds","zoomPlusDelta","_this$state6","ne","sw","onBoundsChanged","bounds","initial","_this$props2","mouseEvents","metaWheelZoom","metaKey","addToZoom","deltaY","stillToAdd","zoomAroundMouse","warningType","_this$props3","_this$state7","pointDiff","tileX","tileY","_this$state8","tileCenterX","tileCenterY","oldZoom","newZoom","_this$state9","pixelBefore","pixelAfter","newCenter","setRef","defaultZoom","defaultCenter","defaultWidth","defaultHeight","_proto","componentDidMount","_this2","touchEvents","ResizeObserver","observe","componentWillUnmount","disconnect","componentDidUpdate","prevProps","_prevProps$center","currentCenter","currentZoom","_this$props$center","_this$props$zoom","nextCenter","nextZoom","_this$state10","pos","document","elementFromPoint","_ref5","scaleWidth","scaleHeight","halfWidth","halfHeight","renderTiles","_this3","mapUrl","provider","_this$tileValues","tiles","old","xDiff","yDiff","_xMin","_yMin","_xMax","_yMax","active","xMin","yMin","xMax","yMax","_x","_y","boxStyle","position","overflow","willChange","transform","transformOrigin","boxClassname","tilesStyle","createElement","style","tile","src","loading","onLoad","alt","opacity","renderOverlays","_this4","_this$state11","mapState","childrenWithProps","Children","children","child","isValidElement","_child$props","anchor","offset","c","cloneElement","childrenStyle","renderAttribution","_this$props4","attribution","attributionPrefix","bottom","right","fontSize","padding","background","fontFamily","color","linkStyle","textDecoration","href","rel","renderWarning","_this$props5","metaWheelZoomWarning","twoFingerDragWarning","warningZIndex","_this$state12","pointerEvents","transition","display","justifyContent","alignItems","textAlign","zIndex","meta","navigator","platform","toUpperCase","indexOf","warningText","replace","render","_this$props6","_this$state13","containerStyle","touchAction","hasSize","ref","defaultProps","Marker","_useState","hover","internalHover","setInternalHover","eventParameters","payload","viewBox","fill","xmlns","onContextMenu","onMouseOver","onMouseOut","d","stroke","strokeWidth","cx","cy","r","Overlay"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react';\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction debounce(func, wait) {\n  var timeout;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var context = this;\n    clearTimeout(timeout);\n    timeout = setTimeout(function () {\n      return func.apply(context, args);\n    }, wait);\n  };\n}\nfunction parentHasClass(element, className) {\n  while (element) {\n    if (element.classList && element.classList.contains(className)) {\n      return true;\n    }\n\n    element = element.parentElement;\n  }\n\n  return false;\n}\nfunction parentPosition(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    x: rect.left,\n    y: rect.top\n  };\n}\n\nvar ANIMATION_TIME = 300;\nvar DIAGONAL_THROW_TIME = 1500;\nvar SCROLL_PIXELS_FOR_ZOOM_LEVEL = 150;\nvar MIN_DRAG_FOR_THROW = 40;\nvar CLICK_TOLERANCE = 2;\nvar DOUBLE_CLICK_DELAY = 300;\nvar DEBOUNCE_DELAY = 60;\nvar PINCH_RELEASE_THROW_DELAY = 300;\nvar WARNING_DISPLAY_TIMEOUT = 300;\n\nvar NOOP = function NOOP() {\n  return true;\n};\n\nfunction stamenToner(x, y, z, dpr) {\n  return \"https://stamen-tiles.a.ssl.fastly.net/toner/\" + z + \"/\" + x + \"/\" + y + (dpr >= 2 ? '@2x' : '') + \".png\";\n}\n\nvar lng2tile = function lng2tile(lon, zoom) {\n  return (lon + 180) / 360 * Math.pow(2, zoom);\n};\n\nvar lat2tile = function lat2tile(lat, zoom) {\n  return (1 - Math.log(Math.tan(lat * Math.PI / 180) + 1 / Math.cos(lat * Math.PI / 180)) / Math.PI) / 2 * Math.pow(2, zoom);\n};\n\nfunction tile2lng(x, z) {\n  return x / Math.pow(2, z) * 360 - 180;\n}\n\nfunction tile2lat(y, z) {\n  var n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\n  return 180 / Math.PI * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n}\n\nfunction getMousePixel(dom, event) {\n  var parent = parentPosition(dom);\n  return [event.clientX - parent.x, event.clientY - parent.y];\n}\n\nfunction easeOutQuad(t) {\n  return t * (2 - t);\n}\n\nvar absoluteMinMax = [tile2lat(Math.pow(2, 10), 10), tile2lat(0, 10), tile2lng(0, 10), tile2lng(Math.pow(2, 10), 10)];\nvar hasWindow = typeof window !== 'undefined';\nvar performanceNow = hasWindow && window.performance && window.performance.now ? function () {\n  return window.performance.now();\n} : function () {\n  var timeStart = new Date().getTime();\n  return function () {\n    return new Date().getTime() - timeStart;\n  };\n}();\n\nvar requestAnimationFrame = function requestAnimationFrame(callback) {\n  if (hasWindow) {\n    return (window.requestAnimationFrame || window.setTimeout)(callback);\n  } else {\n    callback(new Date().getTime());\n    return null;\n  }\n};\n\nvar cancelAnimationFrame = function cancelAnimationFrame(animFrame) {\n  return hasWindow && animFrame ? (window.cancelAnimationFrame || window.clearTimeout)(animFrame) : false;\n};\n\nfunction srcSet(dprs, url, x, y, z) {\n  if (!dprs || dprs.length === 0) {\n    return '';\n  }\n\n  return dprs.map(function (dpr) {\n    return url(x, y, z, dpr) + (dpr === 1 ? '' : \" \" + dpr + \"x\");\n  }).join(', ');\n}\nvar Map = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Map, _Component);\n\n  function Map(props) {\n    var _ref, _props$defaultZoom, _ref2, _props$defaultCenter, _ref3, _props$width, _ref4, _props$height;\n\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n    _this._dragStart = null;\n    _this._mouseDown = false;\n    _this._moveEvents = [];\n    _this._lastClick = null;\n    _this._lastTap = null;\n    _this._lastWheel = null;\n    _this._touchStartPixel = null;\n    _this._touchStartMidPoint = null;\n    _this._touchStartDistance = null;\n    _this._secondTouchEnd = null;\n    _this._warningClearTimeout = null;\n    _this._isAnimating = false;\n    _this._animationStart = null;\n    _this._animationEnd = null;\n    _this._zoomStart = null;\n    _this._centerTarget = null;\n    _this._zoomTarget = null;\n    _this._zoomAround = null;\n    _this._animFrame = null;\n    _this._boundsSynced = false;\n    _this._minMaxCache = null;\n    _this._resizeObserver = null;\n\n    _this.updateWidthHeight = function () {\n      if (_this._containerRef) {\n        var rect = _this._containerRef.getBoundingClientRect();\n\n        if (rect && rect.width > 0 && rect.height > 0) {\n          _this.setState({\n            width: rect.width,\n            height: rect.height\n          });\n\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    _this.wa = function () {\n      var _window;\n\n      return (_window = window).addEventListener.apply(_window, arguments);\n    };\n\n    _this.wr = function () {\n      var _window2;\n\n      return (_window2 = window).removeEventListener.apply(_window2, arguments);\n    };\n\n    _this.bindMouseEvents = function () {\n      _this.wa('mousedown', _this.handleMouseDown);\n\n      _this.wa('mouseup', _this.handleMouseUp);\n\n      _this.wa('mousemove', _this.handleMouseMove);\n    };\n\n    _this.bindTouchEvents = function () {\n      _this.wa('touchstart', _this.handleTouchStart, {\n        passive: false\n      });\n\n      _this.wa('touchmove', _this.handleTouchMove, {\n        passive: false\n      });\n\n      _this.wa('touchend', _this.handleTouchEnd, {\n        passive: false\n      });\n    };\n\n    _this.unbindMouseEvents = function () {\n      _this.wr('mousedown', _this.handleMouseDown);\n\n      _this.wr('mouseup', _this.handleMouseUp);\n\n      _this.wr('mousemove', _this.handleMouseMove);\n    };\n\n    _this.unbindTouchEvents = function () {\n      _this.wr('touchstart', _this.handleTouchStart);\n\n      _this.wr('touchmove', _this.handleTouchMove);\n\n      _this.wr('touchend', _this.handleTouchEnd);\n    };\n\n    _this.bindResizeEvent = function () {\n      _this.wa('resize', _this.updateWidthHeight);\n    };\n\n    _this.unbindResizeEvent = function () {\n      _this.wr('resize', _this.updateWidthHeight);\n    };\n\n    _this.bindWheelEvent = function () {\n      if (_this._containerRef) {\n        _this._containerRef.addEventListener('wheel', _this.handleWheel, {\n          passive: false\n        });\n      }\n    };\n\n    _this.unbindWheelEvent = function () {\n      if (_this._containerRef) {\n        _this._containerRef.removeEventListener('wheel', _this.handleWheel);\n      }\n    };\n\n    _this.setCenterZoomTarget = function (center, zoom, fromProps, zoomAround, animationDuration) {\n      if (fromProps === void 0) {\n        fromProps = false;\n      }\n\n      if (zoomAround === void 0) {\n        zoomAround = null;\n      }\n\n      if (animationDuration === void 0) {\n        animationDuration = ANIMATION_TIME;\n      }\n\n      if (_this.props.animate && (!fromProps || _this.distanceInScreens(center, zoom, _this.state.center, _this.state.zoom) <= _this.props.animateMaxScreens)) {\n        if (_this._isAnimating) {\n          cancelAnimationFrame(_this._animFrame);\n\n          var _this$animationStep = _this.animationStep(performanceNow()),\n              centerStep = _this$animationStep.centerStep,\n              zoomStep = _this$animationStep.zoomStep;\n\n          _this._centerStart = centerStep;\n          _this._zoomStart = zoomStep;\n        } else {\n          _this._isAnimating = true;\n          _this._centerStart = _this.limitCenterAtZoom([_this._lastCenter[0], _this._lastCenter[1]], _this._lastZoom);\n          _this._zoomStart = _this._lastZoom;\n\n          _this.onAnimationStart();\n        }\n\n        _this._animationStart = performanceNow();\n        _this._animationEnd = _this._animationStart + animationDuration;\n\n        if (zoomAround) {\n          _this._zoomAround = zoomAround;\n          _this._centerTarget = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n        } else {\n          _this._zoomAround = null;\n          _this._centerTarget = center;\n        }\n\n        _this._zoomTarget = zoom;\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      } else {\n        _this.stopAnimating();\n\n        if (zoomAround) {\n          var _center = _this.calculateZoomCenter(_this._lastCenter, zoomAround, _this._lastZoom, zoom);\n\n          _this.setCenterZoom(_center, zoom, fromProps);\n        } else {\n          _this.setCenterZoom(center || _this.state.center, zoom, fromProps);\n        }\n      }\n    };\n\n    _this.distanceInScreens = function (centerTarget, zoomTarget, center, zoom) {\n      var _this$state = _this.state,\n          width = _this$state.width,\n          height = _this$state.height;\n\n      var l1 = _this.latLngToPixel(center, center, zoom);\n\n      var l2 = _this.latLngToPixel(centerTarget, center, zoom);\n\n      var z1 = _this.latLngToPixel(center, center, zoomTarget);\n\n      var z2 = _this.latLngToPixel(centerTarget, center, zoomTarget);\n\n      var w = (Math.abs(l1[0] - l2[0]) + Math.abs(z1[0] - z2[0])) / 2 / width;\n      var h = (Math.abs(l1[1] - l2[1]) + Math.abs(z1[1] - z2[1])) / 2 / height;\n      return Math.sqrt(w * w + h * h);\n    };\n\n    _this.animationStep = function (timestamp) {\n      if (!_this._animationEnd || !_this._animationStart || !_this._zoomTarget || !_this._zoomStart || !_this._centerStart || !_this._centerTarget) {\n        return {\n          centerStep: _this.state.center,\n          zoomStep: _this.state.zoom\n        };\n      }\n\n      var length = _this._animationEnd - _this._animationStart;\n      var progress = Math.max(timestamp - _this._animationStart, 0);\n      var percentage = easeOutQuad(progress / length);\n      var zoomDiff = (_this._zoomTarget - _this._zoomStart) * percentage;\n      var zoomStep = _this._zoomStart + zoomDiff;\n\n      if (_this._zoomAround) {\n        var centerStep = _this.calculateZoomCenter(_this._centerStart, _this._zoomAround, _this._zoomStart, zoomStep);\n\n        return {\n          centerStep: centerStep,\n          zoomStep: zoomStep\n        };\n      } else {\n        var _centerStep = [_this._centerStart[0] + (_this._centerTarget[0] - _this._centerStart[0]) * percentage, _this._centerStart[1] + (_this._centerTarget[1] - _this._centerStart[1]) * percentage];\n        return {\n          centerStep: _centerStep,\n          zoomStep: zoomStep\n        };\n      }\n    };\n\n    _this.animate = function (timestamp) {\n      if (!_this._animationEnd || timestamp >= _this._animationEnd) {\n        _this._isAnimating = false;\n\n        _this.setCenterZoom(_this._centerTarget, _this._zoomTarget, true);\n\n        _this.onAnimationStop();\n      } else {\n        var _this$animationStep2 = _this.animationStep(timestamp),\n            centerStep = _this$animationStep2.centerStep,\n            zoomStep = _this$animationStep2.zoomStep;\n\n        _this.setCenterZoom(centerStep, zoomStep);\n\n        _this._animFrame = requestAnimationFrame(_this.animate);\n      }\n    };\n\n    _this.stopAnimating = function () {\n      if (_this._isAnimating) {\n        _this._isAnimating = false;\n\n        _this.onAnimationStop();\n\n        cancelAnimationFrame(_this._animFrame);\n      }\n    };\n\n    _this.limitCenterAtZoom = function (center, zoom) {\n      var minMax = _this.getBoundsMinMax(zoom || _this.state.zoom);\n\n      return [Math.max(Math.min(!center || isNaN(center[0]) ? _this.state.center[0] : center[0], minMax[1]), minMax[0]), Math.max(Math.min(!center || isNaN(center[1]) ? _this.state.center[1] : center[1], minMax[3]), minMax[2])];\n    };\n\n    _this.onAnimationStart = function () {\n      _this.props.onAnimationStart && _this.props.onAnimationStart();\n    };\n\n    _this.onAnimationStop = function () {\n      _this.props.onAnimationStop && _this.props.onAnimationStop();\n    };\n\n    _this.setCenterZoom = function (center, zoom, animationEnded) {\n      if (animationEnded === void 0) {\n        animationEnded = false;\n      }\n\n      var limitedCenter = _this.limitCenterAtZoom(center, zoom);\n\n      if (zoom && Math.round(_this.state.zoom) !== Math.round(zoom)) {\n        var tileValues = _this.tileValues(_this.state);\n\n        var nextValues = _this.tileValues({\n          center: limitedCenter,\n          zoom: zoom,\n          width: _this.state.width,\n          height: _this.state.height\n        });\n\n        var oldTiles = _this.state.oldTiles;\n\n        _this.setState({\n          oldTiles: oldTiles.filter(function (o) {\n            return o.roundedZoom !== tileValues.roundedZoom;\n          }).concat(tileValues)\n        }, NOOP);\n\n        var loadTracker = {};\n\n        for (var x = nextValues.tileMinX; x <= nextValues.tileMaxX; x++) {\n          for (var y = nextValues.tileMinY; y <= nextValues.tileMaxY; y++) {\n            var key = x + \"-\" + y + \"-\" + nextValues.roundedZoom;\n            loadTracker[key] = false;\n          }\n        }\n\n        _this._loadTracker = loadTracker;\n      }\n\n      _this.setState({\n        center: limitedCenter,\n        zoom: zoom || _this.state.zoom\n      }, NOOP);\n\n      var maybeZoom = _this.props.zoom ? _this.props.zoom : _this._lastZoom;\n      var maybeCenter = _this.props.center ? _this.props.center : _this._lastCenter;\n\n      if (zoom && (animationEnded || Math.abs(maybeZoom - zoom) > 0.001 || Math.abs(maybeCenter[0] - limitedCenter[0]) > 0.00001 || Math.abs(maybeCenter[1] - limitedCenter[1]) > 0.00001)) {\n        _this._lastZoom = zoom;\n        _this._lastCenter = [].concat(limitedCenter);\n\n        _this.syncToProps(limitedCenter, zoom);\n      }\n    };\n\n    _this.getBoundsMinMax = function (zoom) {\n      if (_this.props.limitBounds === 'center') {\n        return absoluteMinMax;\n      }\n\n      var _this$state2 = _this.state,\n          width = _this$state2.width,\n          height = _this$state2.height;\n\n      if (_this._minMaxCache && _this._minMaxCache[0] === zoom && _this._minMaxCache[1] === width && _this._minMaxCache[2] === height) {\n        return _this._minMaxCache[3];\n      }\n\n      var pixelsAtZoom = Math.pow(2, zoom) * 256;\n      var minLng = width > pixelsAtZoom ? 0 : tile2lng(width / 512, zoom);\n      var minLat = height > pixelsAtZoom ? 0 : tile2lat(Math.pow(2, zoom) - height / 512, zoom);\n      var maxLng = width > pixelsAtZoom ? 0 : tile2lng(Math.pow(2, zoom) - width / 512, zoom);\n      var maxLat = height > pixelsAtZoom ? 0 : tile2lat(height / 512, zoom);\n      var minMax = [minLat, maxLat, minLng, maxLng];\n      _this._minMaxCache = [zoom, width, height, minMax];\n      return minMax;\n    };\n\n    _this.imageLoaded = function (key) {\n      if (_this._loadTracker && key in _this._loadTracker) {\n        _this._loadTracker[key] = true;\n        var unloadedCount = Object.values(_this._loadTracker).filter(function (v) {\n          return !v;\n        }).length;\n\n        if (unloadedCount === 0) {\n          _this.setState({\n            oldTiles: []\n          }, NOOP);\n        }\n      }\n    };\n\n    _this.handleTouchStart = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      if (event.target && parentHasClass(event.target, 'pigeon-drag-block')) {\n        return;\n      }\n\n      if (event.touches.length === 1) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n\n        if (_this.coordsInside(pixel)) {\n          _this._touchStartPixel = [pixel];\n\n          if (!_this.props.twoFingerDrag) {\n            _this.stopAnimating();\n\n            if (_this._lastTap && performanceNow() - _this._lastTap < DOUBLE_CLICK_DELAY) {\n              event.preventDefault();\n\n              var latLngNow = _this.pixelToLatLng(_this._touchStartPixel[0]);\n\n              _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n            } else {\n              _this._lastTap = performanceNow();\n\n              _this.trackMoveEvents(pixel);\n            }\n          }\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel) {\n        event.preventDefault();\n\n        _this.stopTrackingMoveEvents();\n\n        if (_this.state.pixelDelta || _this.state.zoomDelta) {\n          _this.sendDeltaChange();\n        }\n\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        _this._touchStartPixel = [t1, t2];\n        _this._touchStartMidPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        _this._touchStartDistance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n      }\n    };\n\n    _this.handleTouchMove = function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n\n      if (event.touches.length === 1 && _this._touchStartPixel) {\n        var touch = event.touches[0];\n        var pixel = getMousePixel(_this._containerRef, touch);\n\n        if (_this.props.twoFingerDrag) {\n          if (_this.coordsInside(pixel)) {\n            _this.showWarning('fingers');\n          }\n        } else {\n          event.preventDefault();\n\n          _this.trackMoveEvents(pixel);\n\n          _this.setState({\n            pixelDelta: [pixel[0] - _this._touchStartPixel[0][0], pixel[1] - _this._touchStartPixel[0][1]]\n          }, NOOP);\n        }\n      } else if (event.touches.length === 2 && _this._touchStartPixel && _this._touchStartMidPoint && _this._touchStartDistance) {\n        var _this$state3 = _this.state,\n            width = _this$state3.width,\n            height = _this$state3.height,\n            zoom = _this$state3.zoom;\n        event.preventDefault();\n        var t1 = getMousePixel(_this._containerRef, event.touches[0]);\n        var t2 = getMousePixel(_this._containerRef, event.touches[1]);\n        var midPoint = [(t1[0] + t2[0]) / 2, (t1[1] + t2[1]) / 2];\n        var midPointDiff = [midPoint[0] - _this._touchStartMidPoint[0], midPoint[1] - _this._touchStartMidPoint[1]];\n        var distance = Math.sqrt(Math.pow(t1[0] - t2[0], 2) + Math.pow(t1[1] - t2[1], 2));\n        var zoomDelta = Math.max(_this.props.minZoom, Math.min(_this.props.maxZoom, zoom + Math.log2(distance / _this._touchStartDistance))) - zoom;\n        var scale = Math.pow(2, zoomDelta);\n        var centerDiffDiff = [(width / 2 - midPoint[0]) * (scale - 1), (height / 2 - midPoint[1]) * (scale - 1)];\n\n        _this.setState({\n          zoomDelta: zoomDelta,\n          pixelDelta: [centerDiffDiff[0] + midPointDiff[0] * scale, centerDiffDiff[1] + midPointDiff[1] * scale]\n        }, NOOP);\n      }\n    };\n\n    _this.handleTouchEnd = function (event) {\n      if (!_this._containerRef) {\n        _this._touchStartPixel = null;\n        return;\n      }\n\n      if (_this._touchStartPixel) {\n        var _this$props = _this.props,\n            zoomSnap = _this$props.zoomSnap,\n            twoFingerDrag = _this$props.twoFingerDrag,\n            minZoom = _this$props.minZoom,\n            maxZoom = _this$props.maxZoom;\n        var zoomDelta = _this.state.zoomDelta;\n\n        var _this$sendDeltaChange = _this.sendDeltaChange(),\n            center = _this$sendDeltaChange.center,\n            zoom = _this$sendDeltaChange.zoom;\n\n        if (event.touches.length === 0) {\n          if (twoFingerDrag) {\n            _this.clearWarning();\n          } else {\n            var oldTouchPixel = _this._touchStartPixel[0];\n            var newTouchPixel = getMousePixel(_this._containerRef, event.changedTouches[0]);\n\n            if (Math.abs(oldTouchPixel[0] - newTouchPixel[0]) > CLICK_TOLERANCE || Math.abs(oldTouchPixel[1] - newTouchPixel[1]) > CLICK_TOLERANCE) {\n              if (!_this._secondTouchEnd || performanceNow() - _this._secondTouchEnd > PINCH_RELEASE_THROW_DELAY) {\n                event.preventDefault();\n\n                _this.throwAfterMoving(newTouchPixel, center, zoom);\n              }\n            }\n\n            _this._touchStartPixel = null;\n            _this._secondTouchEnd = null;\n          }\n        } else if (event.touches.length === 1) {\n          event.preventDefault();\n          var touch = getMousePixel(_this._containerRef, event.touches[0]);\n          _this._secondTouchEnd = performanceNow();\n          _this._touchStartPixel = [touch];\n\n          _this.trackMoveEvents(touch);\n\n          if (zoomSnap) {\n            var latLng = _this._touchStartMidPoint ? _this.pixelToLatLng(_this._touchStartMidPoint) : _this.state.center;\n            var zoomTarget;\n\n            if (twoFingerDrag && Math.round(_this.state.zoom) === Math.round(_this.state.zoom + zoomDelta)) {\n              zoomTarget = Math.round(_this.state.zoom);\n            } else {\n              zoomTarget = zoomDelta > 0 ? Math.ceil(_this.state.zoom) : Math.floor(_this.state.zoom);\n            }\n\n            var _zoom = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n\n            _this.setCenterZoomTarget(latLng, _zoom, false, latLng);\n          }\n        }\n      }\n    };\n\n    _this.handleMouseDown = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      var pixel = getMousePixel(_this._containerRef, event);\n\n      if (event.button === 0 && (!event.target || !parentHasClass(event.target, 'pigeon-drag-block')) && _this.coordsInside(pixel)) {\n        _this.stopAnimating();\n\n        event.preventDefault();\n\n        if (_this._lastClick && performanceNow() - _this._lastClick < DOUBLE_CLICK_DELAY) {\n          var latLngNow = _this.pixelToLatLng(_this._mousePosition || pixel);\n\n          _this.setCenterZoomTarget(null, Math.max(_this.props.minZoom, Math.min(_this.state.zoom + 1, _this.props.maxZoom)), false, latLngNow);\n        } else {\n          _this._lastClick = performanceNow();\n          _this._mouseDown = true;\n          _this._dragStart = pixel;\n\n          _this.trackMoveEvents(pixel);\n        }\n      }\n    };\n\n    _this.handleMouseMove = function (event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n\n      if (_this._mouseDown && _this._dragStart) {\n        _this.trackMoveEvents(_this._mousePosition);\n\n        _this.setState({\n          pixelDelta: [_this._mousePosition[0] - _this._dragStart[0], _this._mousePosition[1] - _this._dragStart[1]]\n        }, NOOP);\n      }\n    };\n\n    _this.handleMouseUp = function (event) {\n      if (!_this._containerRef) {\n        _this._mouseDown = false;\n        return;\n      }\n\n      var pixelDelta = _this.state.pixelDelta;\n\n      if (_this._mouseDown) {\n        _this._mouseDown = false;\n        var pixel = getMousePixel(_this._containerRef, event);\n\n        if (_this.props.onClick && (!event.target || !parentHasClass(event.target, 'pigeon-click-block')) && (!pixelDelta || Math.abs(pixelDelta[0]) + Math.abs(pixelDelta[1]) <= CLICK_TOLERANCE)) {\n          var latLng = _this.pixelToLatLng(pixel);\n\n          _this.props.onClick({\n            event: event,\n            latLng: latLng,\n            pixel: pixel\n          });\n\n          _this.setState({\n            pixelDelta: undefined\n          }, NOOP);\n        } else {\n          var _this$sendDeltaChange2 = _this.sendDeltaChange(),\n              center = _this$sendDeltaChange2.center,\n              zoom = _this$sendDeltaChange2.zoom;\n\n          _this.throwAfterMoving(pixel, center, zoom);\n        }\n      }\n    };\n\n    _this.stopTrackingMoveEvents = function () {\n      _this._moveEvents = [];\n    };\n\n    _this.trackMoveEvents = function (coords) {\n      var timestamp = performanceNow();\n\n      if (_this._moveEvents.length === 0 || timestamp - _this._moveEvents[_this._moveEvents.length - 1].timestamp > 40) {\n        _this._moveEvents.push({\n          timestamp: timestamp,\n          coords: coords\n        });\n\n        if (_this._moveEvents.length > 2) {\n          _this._moveEvents.shift();\n        }\n      }\n    };\n\n    _this.throwAfterMoving = function (coords, center, zoom) {\n      var _this$state4 = _this.state,\n          width = _this$state4.width,\n          height = _this$state4.height;\n      var animate = _this.props.animate;\n      var timestamp = performanceNow();\n\n      var lastEvent = _this._moveEvents.shift();\n\n      if (lastEvent && animate) {\n        var deltaMs = Math.max(timestamp - lastEvent.timestamp, 1);\n        var delta = [(coords[0] - lastEvent.coords[0]) / deltaMs * 120, (coords[1] - lastEvent.coords[1]) / deltaMs * 120];\n        var distance = Math.sqrt(delta[0] * delta[0] + delta[1] * delta[1]);\n\n        if (distance > MIN_DRAG_FOR_THROW) {\n          var diagonal = Math.sqrt(width * width + height * height);\n          var throwTime = DIAGONAL_THROW_TIME * distance / diagonal;\n          var lng = tile2lng(lng2tile(center[1], zoom) - delta[0] / 256.0, zoom);\n          var lat = tile2lat(lat2tile(center[0], zoom) - delta[1] / 256.0, zoom);\n\n          _this.setCenterZoomTarget([lat, lng], zoom, false, null, throwTime);\n        }\n      }\n\n      _this.stopTrackingMoveEvents();\n    };\n\n    _this.sendDeltaChange = function () {\n      var _this$state5 = _this.state,\n          center = _this$state5.center,\n          zoom = _this$state5.zoom,\n          pixelDelta = _this$state5.pixelDelta,\n          zoomDelta = _this$state5.zoomDelta;\n      var lat = center[0];\n      var lng = center[1];\n\n      if (pixelDelta || zoomDelta !== 0) {\n        lng = tile2lng(lng2tile(center[1], zoom + zoomDelta) - (pixelDelta ? pixelDelta[0] / 256.0 : 0), zoom + zoomDelta);\n        lat = tile2lat(lat2tile(center[0], zoom + zoomDelta) - (pixelDelta ? pixelDelta[1] / 256.0 : 0), zoom + zoomDelta);\n\n        _this.setCenterZoom([lat, lng], zoom + zoomDelta);\n      }\n\n      _this.setState({\n        pixelDelta: undefined,\n        zoomDelta: 0\n      }, NOOP);\n\n      return {\n        center: _this.limitCenterAtZoom([lat, lng], zoom + zoomDelta),\n        zoom: zoom + zoomDelta\n      };\n    };\n\n    _this.getBounds = function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state6 = _this.state,\n          width = _this$state6.width,\n          height = _this$state6.height;\n      return {\n        ne: _this.pixelToLatLng([width - 1, 0], center, zoom),\n        sw: _this.pixelToLatLng([0, height - 1], center, zoom)\n      };\n    };\n\n    _this.syncToProps = function (center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.state.zoom;\n      }\n\n      var onBoundsChanged = _this.props.onBoundsChanged;\n\n      if (onBoundsChanged) {\n        var bounds = _this.getBounds(center, zoom);\n\n        onBoundsChanged({\n          center: center,\n          zoom: zoom,\n          bounds: bounds,\n          initial: !_this._boundsSynced\n        });\n        _this._boundsSynced = true;\n      }\n    };\n\n    _this.handleWheel = function (event) {\n      var _this$props2 = _this.props,\n          mouseEvents = _this$props2.mouseEvents,\n          metaWheelZoom = _this$props2.metaWheelZoom,\n          zoomSnap = _this$props2.zoomSnap,\n          animate = _this$props2.animate;\n\n      if (!mouseEvents) {\n        return;\n      }\n\n      if (!metaWheelZoom || event.metaKey) {\n        event.preventDefault();\n        var addToZoom = -event.deltaY / SCROLL_PIXELS_FOR_ZOOM_LEVEL;\n\n        if (!zoomSnap && _this._zoomTarget) {\n          var stillToAdd = _this._zoomTarget - _this.state.zoom;\n\n          _this.zoomAroundMouse(addToZoom + stillToAdd, event);\n        } else {\n          if (animate) {\n            _this.zoomAroundMouse(addToZoom, event);\n          } else {\n            if (!_this._lastWheel || performanceNow() - _this._lastWheel > ANIMATION_TIME) {\n              _this._lastWheel = performanceNow();\n\n              _this.zoomAroundMouse(addToZoom, event);\n            }\n          }\n        }\n      } else {\n        _this.showWarning('wheel');\n      }\n    };\n\n    _this.showWarning = function (warningType) {\n      if (!_this.state.showWarning || _this.state.warningType !== warningType) {\n        _this.setState({\n          showWarning: true,\n          warningType: warningType\n        });\n      }\n\n      if (_this._warningClearTimeout) {\n        window.clearTimeout(_this._warningClearTimeout);\n      }\n\n      _this._warningClearTimeout = window.setTimeout(_this.clearWarning, WARNING_DISPLAY_TIMEOUT);\n    };\n\n    _this.clearWarning = function () {\n      if (_this.state.showWarning) {\n        _this.setState({\n          showWarning: false\n        });\n      }\n    };\n\n    _this.zoomAroundMouse = function (zoomDiff, event) {\n      if (!_this._containerRef) {\n        return;\n      }\n\n      var zoom = _this.state.zoom;\n      var _this$props3 = _this.props,\n          minZoom = _this$props3.minZoom,\n          maxZoom = _this$props3.maxZoom,\n          zoomSnap = _this$props3.zoomSnap;\n      _this._mousePosition = getMousePixel(_this._containerRef, event);\n\n      if (!_this._mousePosition || zoom === minZoom && zoomDiff < 0 || zoom === maxZoom && zoomDiff > 0) {\n        return;\n      }\n\n      var latLngNow = _this.pixelToLatLng(_this._mousePosition);\n\n      var zoomTarget = zoom + zoomDiff;\n\n      if (zoomSnap) {\n        zoomTarget = zoomDiff < 0 ? Math.floor(zoomTarget) : Math.ceil(zoomTarget);\n      }\n\n      zoomTarget = Math.max(minZoom, Math.min(zoomTarget, maxZoom));\n\n      _this.setCenterZoomTarget(null, zoomTarget, false, latLngNow);\n    };\n\n    _this.zoomPlusDelta = function () {\n      return _this.state.zoom + _this.state.zoomDelta;\n    };\n\n    _this.pixelToLatLng = function (pixel, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state7 = _this.state,\n          width = _this$state7.width,\n          height = _this$state7.height,\n          pixelDelta = _this$state7.pixelDelta;\n      var pointDiff = [(pixel[0] - width / 2 - (pixelDelta ? pixelDelta[0] : 0)) / 256.0, (pixel[1] - height / 2 - (pixelDelta ? pixelDelta[1] : 0)) / 256.0];\n      var tileX = lng2tile(center[1], zoom) + pointDiff[0];\n      var tileY = lat2tile(center[0], zoom) + pointDiff[1];\n      return [Math.max(absoluteMinMax[0], Math.min(absoluteMinMax[1], tile2lat(tileY, zoom))), Math.max(absoluteMinMax[2], Math.min(absoluteMinMax[3], tile2lng(tileX, zoom)))];\n    };\n\n    _this.latLngToPixel = function (latLng, center, zoom) {\n      if (center === void 0) {\n        center = _this.state.center;\n      }\n\n      if (zoom === void 0) {\n        zoom = _this.zoomPlusDelta();\n      }\n\n      var _this$state8 = _this.state,\n          width = _this$state8.width,\n          height = _this$state8.height,\n          pixelDelta = _this$state8.pixelDelta;\n      var tileCenterX = lng2tile(center[1], zoom);\n      var tileCenterY = lat2tile(center[0], zoom);\n      var tileX = lng2tile(latLng[1], zoom);\n      var tileY = lat2tile(latLng[0], zoom);\n      return [(tileX - tileCenterX) * 256.0 + width / 2 + (pixelDelta ? pixelDelta[0] : 0), (tileY - tileCenterY) * 256.0 + height / 2 + (pixelDelta ? pixelDelta[1] : 0)];\n    };\n\n    _this.calculateZoomCenter = function (center, coords, oldZoom, newZoom) {\n      var _this$state9 = _this.state,\n          width = _this$state9.width,\n          height = _this$state9.height;\n\n      var pixelBefore = _this.latLngToPixel(coords, center, oldZoom);\n\n      var pixelAfter = _this.latLngToPixel(coords, center, newZoom);\n\n      var newCenter = _this.pixelToLatLng([width / 2 + pixelAfter[0] - pixelBefore[0], height / 2 + pixelAfter[1] - pixelBefore[1]], center, newZoom);\n\n      return _this.limitCenterAtZoom(newCenter, newZoom);\n    };\n\n    _this.setRef = function (dom) {\n      _this._containerRef = dom;\n    };\n\n    _this.syncToProps = debounce(_this.syncToProps, DEBOUNCE_DELAY);\n    _this._lastZoom = (_ref = (_props$defaultZoom = props.defaultZoom) !== null && _props$defaultZoom !== void 0 ? _props$defaultZoom : props.zoom) !== null && _ref !== void 0 ? _ref : 14;\n    _this._lastCenter = (_ref2 = (_props$defaultCenter = props.defaultCenter) !== null && _props$defaultCenter !== void 0 ? _props$defaultCenter : props.center) !== null && _ref2 !== void 0 ? _ref2 : [0, 0];\n    _this.state = {\n      zoom: _this._lastZoom,\n      center: _this._lastCenter,\n      width: (_ref3 = (_props$width = props.width) !== null && _props$width !== void 0 ? _props$width : props.defaultWidth) !== null && _ref3 !== void 0 ? _ref3 : -1,\n      height: (_ref4 = (_props$height = props.height) !== null && _props$height !== void 0 ? _props$height : props.defaultHeight) !== null && _ref4 !== void 0 ? _ref4 : -1,\n      zoomDelta: 0,\n      pixelDelta: undefined,\n      oldTiles: [],\n      showWarning: false,\n      warningType: undefined\n    };\n    return _this;\n  }\n\n  var _proto = Map.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.props.mouseEvents && this.bindMouseEvents();\n    this.props.touchEvents && this.bindTouchEvents();\n\n    if (!this.props.width || !this.props.height) {\n      if (!this.updateWidthHeight()) {\n        requestAnimationFrame(this.updateWidthHeight);\n      }\n\n      this.bindResizeEvent();\n    }\n\n    this.bindWheelEvent();\n    this.syncToProps();\n\n    if (typeof ResizeObserver != 'undefined') {\n      this._resizeObserver = new ResizeObserver(function () {\n        _this2.updateWidthHeight();\n      });\n\n      this._resizeObserver.observe(this._containerRef);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.props.mouseEvents && this.unbindMouseEvents();\n    this.props.touchEvents && this.unbindTouchEvents();\n    this.unbindWheelEvent();\n\n    if (!this.props.width || !this.props.height) {\n      this.unbindResizeEvent();\n    }\n\n    if (this._resizeObserver) {\n      this._resizeObserver.disconnect();\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _prevProps$center;\n\n    if (this.props.mouseEvents !== prevProps.mouseEvents) {\n      this.props.mouseEvents ? this.bindMouseEvents() : this.unbindMouseEvents();\n    }\n\n    if (this.props.touchEvents !== prevProps.touchEvents) {\n      this.props.touchEvents ? this.bindTouchEvents() : this.unbindTouchEvents();\n    }\n\n    if (this.props.width && this.props.width !== prevProps.width) {\n      this.setState({\n        width: this.props.width\n      });\n    }\n\n    if (this.props.height && this.props.height !== prevProps.height) {\n      this.setState({\n        height: this.props.height\n      });\n    }\n\n    if (!this.props.center && !this.props.zoom) {\n      return;\n    }\n\n    if ((!this.props.center || this.props.center[0] === (prevProps === null || prevProps === void 0 ? void 0 : (_prevProps$center = prevProps.center) === null || _prevProps$center === void 0 ? void 0 : _prevProps$center[0]) && this.props.center[1] === prevProps.center[1]) && this.props.zoom === prevProps.zoom) {\n      return;\n    }\n\n    var currentCenter = this._isAnimating ? this._centerTarget : this.state.center;\n    var currentZoom = this._isAnimating ? this._zoomTarget : this.state.zoom;\n\n    if (currentCenter && currentZoom) {\n      var _this$props$center, _this$props$zoom;\n\n      var nextCenter = (_this$props$center = this.props.center) !== null && _this$props$center !== void 0 ? _this$props$center : currentCenter;\n      var nextZoom = (_this$props$zoom = this.props.zoom) !== null && _this$props$zoom !== void 0 ? _this$props$zoom : currentZoom;\n\n      if (Math.abs(nextZoom - currentZoom) > 0.001 || Math.abs(nextCenter[0] - currentCenter[0]) > 0.0001 || Math.abs(nextCenter[1] - currentCenter[1]) > 0.0001) {\n        this.setCenterZoomTarget(nextCenter, nextZoom, true);\n      }\n    }\n  };\n\n  _proto.coordsInside = function coordsInside(pixel) {\n    var _this$state10 = this.state,\n        width = _this$state10.width,\n        height = _this$state10.height;\n\n    if (pixel[0] < 0 || pixel[1] < 0 || pixel[0] >= width || pixel[1] >= height) {\n      return false;\n    }\n\n    var parent = this._containerRef;\n\n    if (parent) {\n      var pos = parentPosition(parent);\n      var element = document.elementFromPoint(pixel[0] + pos.x, pixel[1] + pos.y);\n      return parent === element || parent.contains(element);\n    } else {\n      return false;\n    }\n  };\n\n  _proto.tileValues = function tileValues(_ref5) {\n    var center = _ref5.center,\n        zoom = _ref5.zoom,\n        pixelDelta = _ref5.pixelDelta,\n        zoomDelta = _ref5.zoomDelta,\n        width = _ref5.width,\n        height = _ref5.height;\n    var roundedZoom = Math.round(zoom + (zoomDelta || 0));\n    var zoomDiff = zoom + (zoomDelta || 0) - roundedZoom;\n    var scale = Math.pow(2, zoomDiff);\n    var scaleWidth = width / scale;\n    var scaleHeight = height / scale;\n    var tileCenterX = lng2tile(center[1], roundedZoom) - (pixelDelta ? pixelDelta[0] / 256.0 / scale : 0);\n    var tileCenterY = lat2tile(center[0], roundedZoom) - (pixelDelta ? pixelDelta[1] / 256.0 / scale : 0);\n    var halfWidth = scaleWidth / 2 / 256.0;\n    var halfHeight = scaleHeight / 2 / 256.0;\n    var tileMinX = Math.floor(tileCenterX - halfWidth);\n    var tileMaxX = Math.floor(tileCenterX + halfWidth);\n    var tileMinY = Math.floor(tileCenterY - halfHeight);\n    var tileMaxY = Math.floor(tileCenterY + halfHeight);\n    return {\n      tileMinX: tileMinX,\n      tileMaxX: tileMaxX,\n      tileMinY: tileMinY,\n      tileMaxY: tileMaxY,\n      tileCenterX: tileCenterX,\n      tileCenterY: tileCenterY,\n      roundedZoom: roundedZoom,\n      zoomDelta: zoomDelta || 0,\n      scaleWidth: scaleWidth,\n      scaleHeight: scaleHeight,\n      scale: scale\n    };\n  };\n\n  _proto.renderTiles = function renderTiles() {\n    var _this3 = this;\n\n    var oldTiles = this.state.oldTiles;\n    var dprs = this.props.dprs;\n    var mapUrl = this.props.provider || stamenToner;\n\n    var _this$tileValues = this.tileValues(this.state),\n        tileMinX = _this$tileValues.tileMinX,\n        tileMaxX = _this$tileValues.tileMaxX,\n        tileMinY = _this$tileValues.tileMinY,\n        tileMaxY = _this$tileValues.tileMaxY,\n        tileCenterX = _this$tileValues.tileCenterX,\n        tileCenterY = _this$tileValues.tileCenterY,\n        roundedZoom = _this$tileValues.roundedZoom,\n        scaleWidth = _this$tileValues.scaleWidth,\n        scaleHeight = _this$tileValues.scaleHeight,\n        scale = _this$tileValues.scale;\n\n    var tiles = [];\n\n    for (var i = 0; i < oldTiles.length; i++) {\n      var old = oldTiles[i];\n      var zoomDiff = old.roundedZoom - roundedZoom;\n\n      if (Math.abs(zoomDiff) > 4 || zoomDiff === 0) {\n        continue;\n      }\n\n      var pow = 1 / Math.pow(2, zoomDiff);\n      var xDiff = -(tileMinX - old.tileMinX * pow) * 256;\n      var yDiff = -(tileMinY - old.tileMinY * pow) * 256;\n\n      var _xMin = Math.max(old.tileMinX, 0);\n\n      var _yMin = Math.max(old.tileMinY, 0);\n\n      var _xMax = Math.min(old.tileMaxX, Math.pow(2, old.roundedZoom) - 1);\n\n      var _yMax = Math.min(old.tileMaxY, Math.pow(2, old.roundedZoom) - 1);\n\n      for (var x = _xMin; x <= _xMax; x++) {\n        for (var y = _yMin; y <= _yMax; y++) {\n          tiles.push({\n            key: x + \"-\" + y + \"-\" + old.roundedZoom,\n            url: mapUrl(x, y, old.roundedZoom),\n            srcSet: srcSet(dprs, mapUrl, x, y, old.roundedZoom),\n            left: xDiff + (x - old.tileMinX) * 256 * pow,\n            top: yDiff + (y - old.tileMinY) * 256 * pow,\n            width: 256 * pow,\n            height: 256 * pow,\n            active: false\n          });\n        }\n      }\n    }\n\n    var xMin = Math.max(tileMinX, 0);\n    var yMin = Math.max(tileMinY, 0);\n    var xMax = Math.min(tileMaxX, Math.pow(2, roundedZoom) - 1);\n    var yMax = Math.min(tileMaxY, Math.pow(2, roundedZoom) - 1);\n\n    for (var _x = xMin; _x <= xMax; _x++) {\n      for (var _y = yMin; _y <= yMax; _y++) {\n        tiles.push({\n          key: _x + \"-\" + _y + \"-\" + roundedZoom,\n          url: mapUrl(_x, _y, roundedZoom),\n          srcSet: srcSet(dprs, mapUrl, _x, _y, roundedZoom),\n          left: (_x - tileMinX) * 256,\n          top: (_y - tileMinY) * 256,\n          width: 256,\n          height: 256,\n          active: true\n        });\n      }\n    }\n\n    var boxStyle = {\n      width: scaleWidth,\n      height: scaleHeight,\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      overflow: 'hidden',\n      willChange: 'transform',\n      transform: \"scale(\" + scale + \", \" + scale + \")\",\n      transformOrigin: 'top left'\n    };\n    var boxClassname = this.props.boxClassname || 'pigeon-tiles-box';\n    var left = -((tileCenterX - tileMinX) * 256 - scaleWidth / 2);\n    var top = -((tileCenterY - tileMinY) * 256 - scaleHeight / 2);\n    var tilesStyle = {\n      position: 'absolute',\n      width: (tileMaxX - tileMinX + 1) * 256,\n      height: (tileMaxY - tileMinY + 1) * 256,\n      willChange: 'transform',\n      transform: \"translate(\" + left + \"px, \" + top + \"px)\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: boxStyle,\n      className: boxClassname\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pigeon-tiles\",\n      style: tilesStyle\n    }, tiles.map(function (tile) {\n      return /*#__PURE__*/React.createElement(\"img\", {\n        key: tile.key,\n        src: tile.url,\n        srcSet: tile.srcSet,\n        width: tile.width,\n        height: tile.height,\n        loading: 'lazy',\n        onLoad: function onLoad() {\n          return _this3.imageLoaded(tile.key);\n        },\n        alt: '',\n        style: {\n          position: 'absolute',\n          left: tile.left,\n          top: tile.top,\n          willChange: 'transform',\n          transformOrigin: 'top left',\n          opacity: 1\n        }\n      });\n    })));\n  };\n\n  _proto.renderOverlays = function renderOverlays() {\n    var _this4 = this;\n\n    var _this$state11 = this.state,\n        width = _this$state11.width,\n        height = _this$state11.height,\n        center = _this$state11.center;\n    var mapState = {\n      bounds: this.getBounds(),\n      zoom: this.zoomPlusDelta(),\n      center: center,\n      width: width,\n      height: height\n    };\n    var childrenWithProps = React.Children.map(this.props.children, function (child) {\n      if (!child) {\n        return null;\n      }\n\n      if (! /*#__PURE__*/React.isValidElement(child)) {\n        return child;\n      }\n\n      var _child$props = child.props,\n          anchor = _child$props.anchor,\n          position = _child$props.position,\n          offset = _child$props.offset;\n\n      var c = _this4.latLngToPixel(anchor || position || center);\n\n      return /*#__PURE__*/React.cloneElement(child, {\n        left: c[0] - (offset ? offset[0] : 0),\n        top: c[1] - (offset ? offset[1] : 0),\n        latLngToPixel: _this4.latLngToPixel,\n        pixelToLatLng: _this4.pixelToLatLng,\n        mapState: mapState\n      });\n    });\n    var childrenStyle = {\n      position: 'absolute',\n      width: width,\n      height: height,\n      top: 0,\n      left: 0\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pigeon-overlays\",\n      style: childrenStyle\n    }, childrenWithProps);\n  };\n\n  _proto.renderAttribution = function renderAttribution() {\n    var _this$props4 = this.props,\n        attribution = _this$props4.attribution,\n        attributionPrefix = _this$props4.attributionPrefix;\n\n    if (attribution === false) {\n      return null;\n    }\n\n    var style = {\n      position: 'absolute',\n      bottom: 0,\n      right: 0,\n      fontSize: '11px',\n      padding: '2px 5px',\n      background: 'rgba(255, 255, 255, 0.7)',\n      fontFamily: \"'Helvetica Neue', Helvetica, Arial, sans-serif\",\n      color: '#333'\n    };\n    var linkStyle = {\n      color: '#0078A8',\n      textDecoration: 'none'\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: \"attr\",\n      className: \"pigeon-attribution\",\n      style: style\n    }, attributionPrefix === false ? null : /*#__PURE__*/React.createElement(\"span\", null, attributionPrefix || /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://pigeon-maps.js.org/\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"Pigeon\"), ' | '), attribution || /*#__PURE__*/React.createElement(\"span\", null, ' © ', /*#__PURE__*/React.createElement(\"a\", {\n      href: \"https://www.openstreetmap.org/copyright\",\n      style: linkStyle,\n      target: \"_blank\",\n      rel: \"noreferrer noopener\"\n    }, \"OpenStreetMap\"), ' contributors'));\n  };\n\n  _proto.renderWarning = function renderWarning() {\n    var _this$props5 = this.props,\n        metaWheelZoom = _this$props5.metaWheelZoom,\n        metaWheelZoomWarning = _this$props5.metaWheelZoomWarning,\n        twoFingerDrag = _this$props5.twoFingerDrag,\n        twoFingerDragWarning = _this$props5.twoFingerDragWarning,\n        warningZIndex = _this$props5.warningZIndex;\n    var _this$state12 = this.state,\n        showWarning = _this$state12.showWarning,\n        warningType = _this$state12.warningType,\n        width = _this$state12.width,\n        height = _this$state12.height;\n\n    if (metaWheelZoom && metaWheelZoomWarning || twoFingerDrag && twoFingerDragWarning) {\n      var style = {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: width,\n        height: height,\n        overflow: 'hidden',\n        pointerEvents: 'none',\n        opacity: showWarning ? 100 : 0,\n        transition: 'opacity 300ms',\n        background: 'rgba(0,0,0,0.5)',\n        color: '#fff',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        fontSize: 22,\n        fontFamily: '\"Arial\", sans-serif',\n        textAlign: 'center',\n        zIndex: warningZIndex\n      };\n      var meta = typeof window !== 'undefined' && window.navigator && window.navigator.platform.toUpperCase().indexOf('MAC') >= 0 ? '⌘' : '⊞';\n      var warningText = warningType === 'fingers' ? twoFingerDragWarning : metaWheelZoomWarning;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pigeon-overlay-warning\",\n        style: style\n      }, warningText.replace('META', meta));\n    } else {\n      return null;\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props6 = this.props,\n        touchEvents = _this$props6.touchEvents,\n        twoFingerDrag = _this$props6.twoFingerDrag;\n    var _this$state13 = this.state,\n        width = _this$state13.width,\n        height = _this$state13.height;\n    var containerStyle = {\n      width: this.props.width ? width : '100%',\n      height: this.props.height ? height : '100%',\n      position: 'relative',\n      display: 'inline-block',\n      overflow: 'hidden',\n      background: '#dddddd',\n      touchAction: touchEvents ? twoFingerDrag ? 'pan-x pan-y' : 'none' : 'auto'\n    };\n    var hasSize = !!(width && height);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: containerStyle,\n      ref: this.setRef\n    }, hasSize && this.renderTiles(), hasSize && this.renderOverlays(), hasSize && this.renderAttribution(), hasSize && this.renderWarning());\n  };\n\n  return Map;\n}(Component);\nMap.defaultProps = {\n  animate: true,\n  metaWheelZoom: false,\n  metaWheelZoomWarning: 'Use META+wheel to zoom!',\n  twoFingerDrag: false,\n  twoFingerDragWarning: 'Use two fingers to move the map',\n  zoomSnap: true,\n  mouseEvents: true,\n  touchEvents: true,\n  warningZIndex: 100,\n  animateMaxScreens: 5,\n  minZoom: 1,\n  maxZoom: 18,\n  limitBounds: 'center',\n  dprs: []\n};\n\nfunction Marker(props) {\n  var width = typeof props.width !== 'undefined' ? props.width : typeof props.height !== 'undefined' ? props.height * 29 / 34 : 29;\n  var height = typeof props.height !== 'undefined' ? props.height : typeof props.width !== 'undefined' ? props.width * 34 / 29 : 34;\n\n  var _useState = useState(props.hover || false),\n      internalHover = _useState[0],\n      setInternalHover = _useState[1];\n\n  var hover = typeof props.hover === 'undefined' ? internalHover : props.hover;\n  var color = props.color || '#93C0D0';\n\n  var eventParameters = function eventParameters(event) {\n    return {\n      event: event,\n      anchor: props.anchor,\n      payload: props.payload\n    };\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + (props.left - width / 2) + \"px, \" + (props.top - (height - 1)) + \"px)\",\n      filter: hover ? 'drop-shadow(0 0 4px rgba(0, 0, 0, .3))' : '',\n      pointerEvents: 'none'\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: width,\n    height: height,\n    viewBox: \"0 0 61 71\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      pointerEvents: 'auto'\n    },\n    onClick: props.onClick ? function (event) {\n      return props.onClick(eventParameters(event));\n    } : null,\n    onContextMenu: props.onContextMenu ? function (event) {\n      return props.onContextMenu(eventParameters(event));\n    } : null,\n    onMouseOver: function onMouseOver(event) {\n      props.onMouseOver && props.onMouseOver(eventParameters(event));\n      setInternalHover(true);\n    },\n    onMouseOut: function onMouseOut(event) {\n      props.onMouseOut && props.onMouseOut(eventParameters(event));\n      setInternalHover(false);\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M52 31.5C52 36.8395 49.18 42.314 45.0107 47.6094C40.8672 52.872 35.619 57.678 31.1763 61.6922C30.7916 62.0398 30.2084 62.0398 29.8237 61.6922C25.381 57.678 20.1328 52.872 15.9893 47.6094C11.82 42.314 9 36.8395 9 31.5C9 18.5709 18.6801 9 30.5 9C42.3199 9 52 18.5709 52 31.5Z\",\n    fill: color,\n    stroke: \"white\",\n    strokeWidth: \"4\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: \"30.5\",\n    cy: \"30.5\",\n    r: \"8.5\",\n    fill: \"white\",\n    opacity: hover ? 0.98 : 0.6\n  }))));\n}\n\nfunction Overlay(props) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread2({\n      position: 'absolute',\n      transform: \"translate(\" + props.left + \"px, \" + props.top + \"px)\"\n    }, props.style || {}),\n    className: props.className ? props.className + \" pigeon-click-block\" : 'pigeon-click-block'\n  }, props.children);\n}\n\nexport default Map;\nexport { Map, Marker, Overlay };\n"]},"metadata":{},"sourceType":"module"}